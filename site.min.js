!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("./jzfrontend/utils/jzUtils.min.js")):"function"==typeof define&&define.amd?define("__webpack_no_use_variable",[],e):"object"==typeof exports?exports.__webpack_no_use_variable=e(require("./jzfrontend/utils/jzUtils.min.js")):t.__webpack_no_use_variable=e(t.jzUtils)}(this,(function(__WEBPACK_EXTERNAL_MODULE__4__){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=524)}({10:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},170:function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){return(Fai&&Fai.top._manageMode?jzModule.ManageModule.find(t):jzModule.SiteModule.find(t))||{}}t.exports=function(){function t(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};n(this,t),this.options=i,this.moduleId=e,this.$module=$("#module".concat(e)),this.$el=this.$module,this.module=this.options.module||{},this.pattern=this.module.pattern||{},this.perform=this.options.perform||{},Fai.top._animationGrayTest&&this.observeAnimation()}var e,r,a;return e=t,a=[{key:"getPerformAttr",value:function(t,e,n){if(o(t).getPerformAttr)return o(t).getPerformAttr(e)}},{key:"setPerformAttr",value:function(t,e,n){o(t).setPerformAttr&&o(t).setPerformAttr(e,n)}},{key:"install",value:function(t){jzModule.SiteModule.install(t),jzModule.ManageModule&&jzModule.ManageModule.install(t),jzModule._executeModuleLoadedCallback(t.id)}}],(r=[{key:"isAutoHeight",value:function(){return 1==parseInt(this.getPerformAttr("_autoHeight"))}},{key:"observeAnimation",value:function(){bizShared.InterSectionObserApi.initAnimationObserver(this.$el[0])}},{key:"isVueModule",value:function(){return"true"===this.getPerformAttr("ssr")}},{key:"checkNestModule",value:function(){return Site.checkNestModule(this.$module)}},{key:"resetXPackModuleAutoHeight",value:function(t){Site.resetXPackModuleAutoHeight(this.$module,undefined,t)}},{key:"getModule",value:function(){var t=this.options.module;return t||this.throwError("未在访客态输出模块数据，请在inc文件中过滤并输出"),t}},{key:"getPattern",value:function(){var t=this.getModule().pattern;return t||this.throwError("未在访客态输出 pattern 字段，请在inc文件中过滤并输出"),t}},{key:"throwError",value:function(t){var e=Object.getPrototypeOf(this).constructor.name;throw new Error("".concat(t," [").concat(e,"]"))}},{key:"getAttr",value:function(t){return this.$module.attr(t)}},{key:"setAttr",value:function(t,e){return this.$module.attr(t,e)}},{key:"getStyle",value:function(){return this.options.style}},{key:"getType",value:function(){return this.options.type}},{key:"addClass",value:function(t){return this.$module.addClass(t),this}},{key:"removeClass",value:function(t){return this.$module.removeClass(t),this}},{key:"getModuleFlag",value:function(){var t=this.getModule().flag;return isNaN(t)&&this.throwError("未在访客态输出 flag 字段，请挂载 flag 字段到模块数据中"),t}},{key:"setModuleFlag",value:function(t){this.getModule().flag=t}},{key:"getFlag",value:function(t){var e=this.getModuleFlag();return this.getBitMemory(e,t)}},{key:"setFlag",value:function(t,e){var n=this.getModuleFlag();n=this.setBitMemory(n,t,e),this.setModuleFlag(n)}},{key:"checkBit",value:function(t,e){return this.getBitMemory(t,e)}},{key:"getBitMemory",value:function(t,e){return(t&e)==e}},{key:"setBitMemory",value:function(t,e,n){return n?t|=e:t&=~e,t}},{key:"getPerformAttr",value:function(t,e){if(Fai.top._manageMode){var n=this.perform.moduleAttr[t];return void 0===n?n:String(n)}return this.getAttr(t)}},{key:"setPerformAttr",value:function(t,e){if(Fai.top._manageMode)return this.perform.moduleAttr[t]=e;this.setAttr(t,e)}}])&&i(e.prototype,r),a&&i(e,a),t}()},171:function(t,e,n){function i(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=n(23),l=s.throttle,u=s.debounce,c=function p(){if("undefined"!=typeof p._value)return p._value;var t=Fai.isIE7()||Fai.isIE8();return p._value="undefined"!=typeof MutationObserver&&!t},f={node:null,callback:function(){},filterClassList:[],config:{childList:!0,attributes:!0,subtree:!0,attributeOldValue:!0,attributeFilter:["style","_autoheight","class"]},throttleTime:250,dragingCall:!1},d=["ui-resizable-handle","J_oper_btn_wrap","J_dragHandle","J_setting_btn_box","J_packCloseIcon","tools","left-area","right-area","top-area","bottom-area","imgResizeLine","fk-setting-btn","fk-module-height-btn","fk-editor","fkEditor-wrap","siteEditor","photoSmallPic_control","carousel-img","g_borderSelected","J_carouselPhotos","carousel-img-pot","J_bigImgDetailWrap","m_cp_3D_list","m_cp_3D_item","J_imgDiv","floatBtn","J_editLayer","J_photoForm","J_listPhotoImg","gallery-control","J_photoForms","m_list_photos_accordion_content","m_news_list","m_news_content","productFilterValueCenter","paramResize","textareaResize","cardDiv","photoMoreCardEdit","moreCardTd","scrollbarLi","jz_dynamicNum_list","jz_dynamicNum_visit","J_parallax_dom"],h=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=Object.assign({},f,e),this.isSupport=c(),!this.isSupport)return this.intervalTimer=null,void this._handleNotSupport();this.filterClassSet=this._handleFilterClasses(),this.cb=this._handleCallback(this.options.callback),this.fnCalling=!1,this._observer=null,this._moduleHeightMap={},this._collectModuleHeight(),this.containerId=this._getContainerId(),this._init()}var e,n,r;return e=t,(n=[{key:"_init",value:function(){null===this._observer&&(this._observer=new MutationObserver(this._mutationObserverCb.bind(this)),this.observe())}},{key:"_mutationObserverCb",value:function(t){var e=this;if(!this.isFilterDrag())if(t.length>200)this.cb(t);else if(!this.fnCalling){var n,i,r,a,s=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(l)throw a}}}}(t);try{for(s.s();!(n=s.n()).done;){var l=n.value;if(!("undefined"!=typeof(a=l.target).classList?Array.from(a.classList):($(a).attr("class")||"").trim().split(/\s+/)).some((function(t){return e.filterClassSet.has(t)}))){if(this._isAnimation(l.target))break;if(!this._isManageTools(l)){if(this._isAutoHeightChange(l)){this.cb(t);break}var u=(i=l.target,r=void 0,(r=$(i)).hasClass("form")?r:r.parents(".form")||null);if(null!==u){var c=u.attr("_moduleid");if(c){if(c==this.containerId&&"childList"==l.type){this.cb(t);break}var f=u.height(),d=parseInt(u.css("top"));if("undefined"==typeof this._moduleHeightMap[c]){this._moduleHeightMap[c]={height:f,top:d},this.cb(t);break}if(this._moduleHeightMap[c].height!=f||this._moduleHeightMap[c].top!=d){this._moduleHeightMap[c].height=f,this._moduleHeightMap[c].top=d,this.cb(t);break}}}}}}}catch(h){s.e(h)}finally{s.f()}}}},{key:"_collectModuleHeight",value:function(){var t=this;setTimeout((function(){$(t.options.node).find(".form").each((function(e,n){var i=$(n).attr("_moduleid");i&&(t._moduleHeightMap[i]={height:$(n).height(),top:$(n).css("top")})})),!Fai.top._manageMode&&t.cb()}),500)}},{key:"observe",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.options.node,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.options.config;e&&null!==this._observer&&(e instanceof NodeList?i(e).forEach((function(e){return t._observer.observe(e,n)})):this._observer.observe(e,n))}},{key:"disconnect",value:function(){if(!this.isSupport)return window.clearInterval(this.intervalTimer),void(this.intervalTimer=null);null!==this._observer&&this._observer.disconnect()}},{key:"_handleCallback",value:function(t){var e=function(){var e=this;this.fnCalling=!0,t.apply(void 0,arguments),this._delay((function(){e.fnCalling=!1}))};return Fai.top._manageMode?l(e,this.options.throttleTime):u(e,16)}},{key:"isFilterDrag",value:function(){var t=document.querySelector(".moduleSortableHelperWrap"),e=$(document.querySelector(".jz_placeholder"));if(e.length>0&&"block"===e.css("display"))return!0;if(this.options.dragingCall){if(t&&"block"===t.style.display)return!0}else if(t)return!0;return!1}},{key:"_delay",value:function(t){"undefined"!=typeof Promise?Promise.resolve().then(t):setTimeout(t,0)}},{key:"_isManageTools",value:function(t){if(!Fai.top._manageMode)return!1;var e=!1,n=t.target;return"attributes"==t.type&&"class"==t.attributeName?!(!t.oldValue||!t.oldValue.includes("ui-resizable-autohide"))||n.classList.contains("ui-resizable-handle")||n.classList.contains("J_dragHandle")||n.classList.contains("fk-paddingMarginWrap")||n.classList.contains("ui-resizable-autohide")||n.classList.contains("J_packContent"):("childList"==t.type&&(e=[].concat(i(t.addedNodes),i(t.removedNodes)).some((function(t){return!!t.classList&&(t.classList.contains("ui-resizable-handle")||t.classList.contains("J_dragHandle")||t.classList.contains("fk-paddingMarginWrap"))}))),e)}},{key:"_isAnimation",value:function(t){return t.style.animation&&"none"!=t.style.animationName}},{key:"_handleFilterClasses",value:function(){return new Set(this.options.filterClassList.concat(d))}},{key:"_handleNotSupport",value:function(){this.intervalTimer=window.setInterval(this.options.callback,1e3)}},{key:"_isAutoHeightChange",value:function(t){return"attributes"===t.type&&"_autoheight"===t.attributeName}},{key:"_getContainerId",value:function(){var t=this.options.node;return t instanceof Node&&Number(t.getAttribute("_moduleid"))||null}}])&&a(e.prototype,n),r&&a(e,r),t}();t.exports={DomChanged:h,isSupport:c,isGrayTest:function(){return Fai.top._mutationObGrayTest}}},172:function(t,e){var n=function(t){if(jzUtils.isPlainObject(t)){var e={contentTerminal:"site"};return e.manageMode=Fai.top._manageMode,e.Monitor=Site.Monitor,e.JzFdpLog=Site.JzFdpLog,bizShared.AnimationApis.getAnimationConfig(t,e)}},i=function(t){var e=[];if(0==t)return e;switch(t){case 1:e=[0,1,2,3,4];break;case 2:e=[1,2,3,4];break;case 3:e=[0,1,2,3,4];break;case 4:case 5:e=[];break;case 6:e=[1,2,3,4];break;case 7:e=[];break;case 8:case 28:e=[12,34];break;case 9:case 10:default:e=[]}return e},o=function(t,e){var n,i,o=$("#module"+e),r=-1;switch(t){case 1:o.hasClass("formStyle88")?r=1:o.hasClass("formStyle89")?r=2:o.hasClass("formStyle90")&&(r=3);break;case 2:(n=o.find(".richContent")).length>0&&(n.hasClass("richContent0")?r=7:n.hasClass("richContent1")?r=8:n.hasClass("richContent2")?r=9:n.hasClass("richContent3")?r=10:n.hasClass("richContent4")?r=11:n.hasClass("richContent5")?r=12:n.hasClass("richContent6")&&(r=13));break;case 3:o.hasClass("formStyle91")?r=4:o.hasClass("formStyle92")?r=5:o.hasClass("formStyle93")&&(r=6);break;case 4:var a=o.find(".photoMoreCardInner");a.hasClass("cardStyle0")?r=100:a.hasClass("cardStyle1")?r=101:a.hasClass("cardStyle2")?r=102:a.hasClass("cardStyle3")?r=103:a.hasClass("cardStyle4")?r=104:a.hasClass("cardStyle5")?r=105:a.hasClass("cardStyle6")?r=106:a.hasClass("cardStyle7")?r=107:a.hasClass("cardStyle8")?r=108:a.hasClass("cardStyle9")?r=109:a.hasClass("cardStyle10")?r=110:a.hasClass("cardStyle11")?r=111:a.hasClass("cardStyle12")&&(r=112);break;case 5:o.hasClass("formStyle2")?r=14:o.hasClass("formStyle3")?r=15:o.hasClass("formStyle8")?r=16:o.hasClass("formStyle30")?r=17:o.hasClass("formStyle41")?r=18:o.hasClass("formStyle74")&&(r=19);break;case 6:(n=o.find(".J_newsList")).length>0&&(0==(i=parseInt(n.attr("newslisttype")))?r=20:6==i?r=21:2==i?r=22:1==i?r=23:5==i?r=24:3==i?r=25:4==i&&(r=26));break;case 7:(n=o.find("#newsList"+e)).length>0&&(0==(i=parseInt(n.attr("_showsetting")))?r=27:1==i&&(r=28));break;case 8:if((n=o.find(".news_list_wrap")).length>0){var s=jzModule.SiteModule.find(e).module.blob0.selectStyle;s&&!s||(r=116)}}return r},r=function(t){var e=$("#module"+t),n=-1;return 3==Site.getModuleStatus(t)||(e.hasClass("formStyle88")||e.hasClass("formStyle89")||e.hasClass("formStyle90")?n=1:e.hasClass("formStyle1")?n=2:e.hasClass("formStyle91")||e.hasClass("formStyle92")||e.hasClass("formStyle93")?n=3:e.hasClass("formStyle98")?n=4:e.hasClass("formStyle2")||e.hasClass("formStyle3")||e.hasClass("formStyle8")||e.hasClass("formStyle30")||e.hasClass("formStyle41")||e.hasClass("formStyle74")?n=5:e.hasClass("formStyle6")||e.hasClass("formStyle7")?n=6:e.hasClass("formStyle116")&&(n=8)),n},a=function(t,e,n){var i=[],r=o(t,n);switch(r){case 1:0==e?i=function(t){var e,n,i,o,r,a,s=Fai.top.$("#module"+t),l=[],u=[],c=0,f=s.find("#photoForms"+t);if(f.length<1)return;for(a=f.find(".J_photoForm"),e=a.length,n=(n=f.width()/a.outerWidth(!0))<1?1:parseInt(n),i=Math.ceil(f.parents(".formMiddleContent"+t).height()/a.outerHeight(!0)),o=n*i<e?n*i:e,r=0;r<o;r++)r%n==0&&0!=r&&(l[c++]=u,u=[]),u.push(a[r]);u.length>0&&(l[c++]=u,u=[]);return(a=s.find("#pagenation"+t)).length>0&&u.push(a),u.special=1,u.animationCls="fadeIn",l.push(u),l}(n):1==e&&(i=function(t){var e,n,i,o,r,a,s=Fai.top.$("#module"+t),l=[],u=[],c=0,f=s.find("#photoForms"+t);if(f.length<1)return;for(a=f.find(".J_photoForm"),i=(i=f.width()/a.outerWidth(!0))<1?1:parseInt(i),n=Math.ceil(f.parents(".formMiddleContent"+t).height()/a.outerHeight(!0)),e=a.length,o=i*n<e?i*n:e,r=0;r<o;r++)u.push(a[r]),l[c++]=u,u=[];return(a=s.find("#pagenation"+t)).length>0&&u.push(a),u.special=1,u.animationCls="fadeIn",l.push(u),l}(n));break;case 2:0==e?i=function(t){var e,n,i,o,r,a=Fai.top.$("#module"+t),s=[],l=[],u=0,c=a.find("#photo-gallery-container"+t);if(c.length<1)return;for(r=c.find(".J_photoForm"),e=r.length,n=Math.ceil(c.parent().width()/r.outerWidth(!0)),i=e<n?e:n,o=0;o<i;o++)l.push(r[o]);return s[u++]=l,l=[],s}(n):1==e&&(i=function(t){var e,n,i,o,r,a=Fai.top.$("#module"+t),s=[],l=[],u=0,c=a.find("#photo-gallery-container"+t);if(c.length<1)return;for(r=c.find(".J_photoForm"),e=r.length,n=Math.ceil(c.parent().width()/r.outerWidth(!0)),i=e<n?e:n,o=0;o<i;o++)l.push(r[o]),s[u++]=l,l=[];return s}(n));break;case 3:0==e?i=function(t){var e,n,i,o,r,a,s,l,u,c=Fai.top.$("#module"+t),f=[],d=[],h=0,p=c.data("options"),m=p?p.phoMarqueeDirection:-1,g=c.find("#demo0"+t);if(g.length<1)return;if(s=g.find(".J_photoForm"),u=g.find('.J_photoForm[clonediv="true"]'),l=u.length,r=g.parent().width()/s.outerWidth(!0),o=Math.ceil(g.parent().height()/s.outerHeight(!0)),n=s.length,0==m){for(i=n-(i=n<(r=Math.ceil(r))?n:r),e=n-1;e>=i;e--)d.push(s[e]);f[h++]=d}else if(1==m){for(i=n<(r=Math.ceil(r))?n:r,e=0;e<i;e++)d.push(s[e]);f[h++]=d}else if(2==m)if(l>0){for(0==(a=l%(r=Math.floor(r)))&&(a=r),i=l-a,e=l-1;e>=i;e--)d.push(u[e]);for(f[h++]=d,d=[],i=l-a-(i=r*(o-1)<i?r*(o-1):i);e>=i;e--)d.push(u[e]),e%r==0&&0!=e&&(f[h++]=d,d=[]);d.length>0&&(f[h++]=d),f.reverse()}else{for(e=0;e<n;e++)d.push(s[e]);f[h++]=d}else if(3==m){for(i=o*(r=Math.floor(r))<n-l?o*r:n-l,e=0;e<i;e++)e%r==0&&0!=e&&(f[h++]=d,d=[]),d.push(s[e]);d.length>0&&(f[h++]=d)}else if(-1==m){for(e=0;e<n;e++)d.push(s[e]);f[h++]=d}return f}(n):1==e&&(i=function(t){var e,n,i,o,r,a,s,l,u,c=Fai.top.$("#module"+t),f=[],d=[],h=0,p=c.find("#demo0"+t),m=c.data("options"),g=m?m.phoMarqueeDirection:-1;if(p.length<1)return;if(s=p.find(".J_photoForm"),u=p.find('.J_photoForm[clonediv="true"]'),l=u.length,r=p.parent().width()/s.outerWidth(!0),o=Math.ceil(p.parent().height()/s.outerHeight(!0)),n=s.length,0==g){for(i=n-(i=n<(r=Math.ceil(r))?n:r),e=n-1;e>=i;e--)d.push(s[e]),f[h++]=d,d=[];f.reverse()}else if(1==g)for(i=n<(r=Math.ceil(r))?n:r,e=0;e<i;e++)d.push(s[e]),f[h++]=d,d=[];else if(2==g)if(l>0){for(0==(a=l%(r=Math.floor(r)))&&(a=r),i=l-a,e=l-1;e>=i;e--)d.push(u[e]),f[h++]=d,d=[];for(i=l-a-(i=r*(o-1)<i?r*(o-1):i);e>=i;e--)d.push(u[e]),f[h++]=d,d=[];f.reverse()}else for(e=0;e<n;e++)d.push(s[e]),f[h++]=d,d=[];else if(3==g)for(i=n-l<o*(r=Math.floor(r))?n-l:o*r,e=0;e<i;e++)d.push(s[e]),f[h++]=d,d=[];else if(-1==g)for(e=0;e<n;e++)d.push(s[e]),f[h++]=d,d=[];return f}(n));break;case 4:i=function(t){var e,n=Fai.top.$("#module"+t),i=[],o=[],r=0,a=n.find("#photoDotSwitch"+t);if(a.length<1)return;return e=a.find(".switchGroup a").eq(0),o.push(e),i[r++]=o,o=[],(e=a.find(".imageSwitchBtnArea")).length>0&&o.push(e),(e=a.find(".photoSwitchBg")).length>0&&o.push(e),i[r++]=o,i}(n);break;case 5:i=function(t){var e,n=Fai.top.$("#module"+t),i=[],o=[],r=0,a=n.find("#photoSwitch"+t);if(a.length<1)return;return e=a.find(".switchGroup a").eq(0),o.push(e),i[r++]=o,o=[],(e=a.find(".imageSwitchBtnArea")).length>0&&o.push(e),(e=a.find(".photoSwitchBg")).length>0&&o.push(e),i[r++]=o,i}(n);break;case 6:i=function(t){var e,n=Fai.top.$("#module"+t),i=[],o=[],r=0,a=n.find(".carouselPhotosSmallPic");if(a.length<1)return;return e=a.find(".photoContainerLeft"),o.push(e),i[r++]=o,o=[],(e=a.find(".photoSmallPrePicContainer")).length>0&&o.push(e),i[r++]=o,i}(n);break;case 7:i=s(n,r);break;case 10:case 13:i=l(n,r);break;case 8:case 9:case 11:case 12:0==e?i=s(n,r):1==e&&(i=l(n,r));break;case 14:0==e?i=function(t){var e,n,i,o,r,a,s,l,u,c=Fai.top.$("#module"+t),f=[],d=[],h=[],p=0,m=c.find("#productList"+t);if(m.length<1)return;l=(u=Fai.top["productList"+t])&&u.data&&u.data.imgEffType?u.data.imgEffType:1;for(a=m.find(".productTileForm"),i=a.length,e=(e=m.width()/a.outerWidth(!0))<1?1:parseInt(e),n=Math.round(m.height()/a.outerHeight(!0)),o=e*n<i?e*n:i,r=0;r<o;r++)r%e==0&&0!=r&&(f[p++]=d,d=[],h.length>0&&(f[p++]=h,h=[])),s=a.eq(r).find(".imgDiv"),d.push(s),s=a.eq(r).find(".propList"),4!=l&&5!=l&&h.push(s);d.length>0&&(f[p++]=d,d=[]);h.length>0&&(f[p++]=h,h=[]);return(s=m.find(".productListSytle")).length>0&&d.push(s),(s=m.find(".separatorLine")).length>0&&d.push(s),(s=m.find("#pagenation"+t)).length>0&&d.push(s),d.special=1,d.animationCls="fadeIn",f[p++]=d,f}(n):1==e&&(i=function(t){var e,n,i,o,r,a,s,l,u,c=Fai.top.$("#module"+t),f=[],d=[],h=[],p=0,m=c.find("#productList"+t);if(m.length<1)return;l=(u=Fai.top["productList"+t])&&u.data&&u.data.imgEffType?u.data.imgEffType:1;for(s=m.find(".productTileForm"),i=s.length,e=(e=m.width()/s.outerWidth(!0))<1?1:parseInt(e),n=Math.round(m.height()/s.outerHeight(!0)),o=e*n<i?e*n:i,r=0;r<o;r++)0!=d.length&&d.length%e==0&&($.each(d,(function(t,e){f[p++]=e})),d=[],$.each(h,(function(t,e){f[p++]=e})),h=[]),a=s.eq(r).find(".imgDiv"),d.push(a),a=s.eq(r).find(".propList"),4!=l&&5!=l&&h.push(a);return $.each(d,(function(t,e){f[p++]=e})),$.each(h,(function(t,e){f[p++]=e})),d=[],h=[],(a=m.find(".productListSytle")).length>0&&d.push(a),(a=m.find(".separatorLine")).length>0&&d.push(a),(a=m.find("#pagenation"+t)).length>0&&d.push(a),d.special=1,d.animationCls="fadeIn",f.push(d),f}(n));break;case 15:0==e?i=function(t){var e,n,i,o,r,a,s,l,u,c,f,d,h,p=Fai.top.$("#module"+t),m=[],g=[],v=[],y=0,b=p.data("options"),_=b?b.proMarqueeDirection:-1,w=p.find("#demo0"+t);if(w.length<1)return;f=(d=Fai.top["Product"+t])&&d.ieOpt?d.ieOpt.effType:1;if(s=w.find(".productMarqueeForm"),c=w.find('.productMarqueeForm[clonediv="true"]'),u=c.length,r=w.parent().width()/s.outerWidth(!0),o=Math.ceil(w.parent().height()/s.outerHeight(!0)),n=s.length,h=4!=f&&5!=f||s.find(".J_marqueePropListInfo .g_stress .fk-prop-price-other").length>0,0==_){for(i=n-(i=n<(r=Math.ceil(r))?n:r),e=n-1;e>=i;e--)l=s.eq(e).find(".imgDiv"),g.push(l),l=s.eq(e).find(".J_marqueePropListInfo"),h&&v.push(l);g.length>0&&(m[y++]=g),v.length>0&&(m[y++]=v)}else if(1==_){for(i=n<(r=Math.ceil(r))?n:r,e=0;e<i;e++)l=s.eq(e).find(".imgDiv"),g.push(l),l=s.eq(e).find(".J_marqueePropListInfo"),h&&v.push(l);g.length>0&&(m[y++]=g),v.length>0&&(m[y++]=v)}else if(2==_)if(u>0){for(0==(a=u%(r=Math.floor(r)))&&(a=r),i=u-a,e=u-1;e>=i;e--)l=c.eq(e).find(".imgDiv"),g.push(l),l=c.eq(e).find(".J_marqueePropListInfo"),h&&v.push(l);for(v.length>0&&(m[y++]=v,v=[]),m[y++]=g,g=[],i=u-a-(i=r*(o-1)<i?r*(o-1):i);e>=i;e--)l=c.eq(e).find(".imgDiv"),g.push(l),l=c.eq(e).find(".J_marqueePropListInfo"),h&&v.push(l),e%r==0&&0!=e&&(v.length>0&&(m[y++]=v,v=[]),m[y++]=g,g=[]);g.length>0&&(m[y++]=g),v.length>0&&(m[y++]=v),m.reverse()}else{for(r=Math.floor(r),e=0;e<n;e++)0!=g.length&&g.length%r==0&&(m[y++]=g,g=[],v.length>0&&(m[y++]=v,v=[])),l=s.eq(e).find(".imgDiv"),g.push(l),l=s.eq(e).find(".J_marqueePropListInfo"),h&&v.push(l);g.length>0&&(m[y++]=g),v.length>0&&(m[y++]=v)}else if(3==_){for(i=o*(r=Math.floor(r))<n-u?o*r:n-u,e=0;e<i;e++)e%r==0&&0!=e&&(m[y++]=g,g=[],v.length>0&&(m[y++]=v,v=[])),l=s.eq(e).find(".imgDiv"),g.push(l),l=s.eq(e).find(".J_marqueePropListInfo"),h&&v.push(l);g.length>0&&(m[y++]=g),v.length>0&&(m[y++]=v)}else if(-1==_){for(r=Math.floor(r),e=0;e<n;e++)0!=g.length&&g.length%r==0&&(m[y++]=g,g=[],v.length>0&&(m[y++]=v,v=[])),l=s.eq(e).find(".imgDiv"),g.push(l),l=s.eq(e).find(".J_marqueePropListInfo"),h&&v.push(l);g.length>0&&(m[y++]=g),v.length>0&&(m[y++]=v)}return m}(n):1==e&&(i=function(t){var e,n,i,o,r,a,s,l,u,c,f,d,h,p=Fai.top.$("#module"+t),m=[],g=[],v=[],y=0,b=p.find("#demo0"+t),_=p.data("options"),w=_?_.proMarqueeDirection:-1;if(b.length<1)return;f=(d=Fai.top["Product"+t])&&d.ieOpt?d.ieOpt.effType:1;if(s=b.find(".productMarqueeForm"),c=b.find('.productMarqueeForm[clonediv="true"]'),u=c.length,r=b.parent().width()/s.outerWidth(!0),o=Math.ceil(b.parent().height()/s.outerHeight(!0)),n=s.length,h=4!=f&&5!=f||s.find(".J_marqueePropListInfo .g_stress .fk-prop-price-other").length>0,0==w){for(i=n-(i=n<(r=Math.ceil(r))?n:r),e=n-1;e>=i;e--)l=s.eq(e).find(".imgDiv"),g.push(l),l=s.eq(e).find(".J_marqueePropListInfo"),h&&v.push(l);g.reverse(),v.reverse(),$.each(g,(function(t,e){m[y++]=e})),$.each(v,(function(t,e){m[y++]=e}))}else if(1==w){for(i=n<(r=Math.ceil(r))?n:r,e=0;e<i;e++)l=s.eq(e).find(".imgDiv"),g.push(l),l=s.eq(e).find(".J_marqueePropListInfo"),h&&v.push(l);$.each(g,(function(t,e){m[y++]=e})),$.each(v,(function(t,e){m[y++]=e}))}else if(2==w)if(r=Math.floor(r),u>0){for(0==(a=u%r)&&(a=r),i=u-a,e=u-1;e>=i;e--)l=c.eq(e).find(".imgDiv"),g.push(l),l=c.eq(e).find(".J_marqueePropListInfo"),h&&v.push(l);for($.each(v,(function(t,e){m[y++]=e})),$.each(g,(function(t,e){m[y++]=e})),g=[],v=[],i=u-a-(i=r*(o-1)<i?r*(o-1):i);e>=i;e--)0!=g.length&&g.length%r==0&&($.each(v,(function(t,e){m[y++]=e})),v=[],$.each(g,(function(t,e){m[y++]=e})),g=[]),l=c.eq(e).find(".imgDiv"),g.push(l),l=c.eq(e).find(".J_marqueePropListInfo"),h&&v.push(l);$.each(v,(function(t,e){m[y++]=e})),$.each(g,(function(t,e){m[y++]=e})),m.reverse()}else{for(e=0;e<n;e++)0!=g.length&&g.length%r==0&&($.each(g,(function(t,e){m[y++]=e})),g=[],$.each(v,(function(t,e){m[y++]=e})),v=[]),l=s.eq(e).find(".imgDiv"),g.push(l),l=s.eq(e).find(".J_marqueePropListInfo"),h&&v.push(l);g.length>0&&($.each(g,(function(t,e){m[y++]=e})),$.each(v,(function(t,e){m[y++]=e})))}else if(3==w){for(i=n-u<o*(r=Math.floor(r))?n-u:o*r,e=0;e<i;e++)0!=g.length&&g.length%r==0&&($.each(g,(function(t,e){m[y++]=e})),g=[],$.each(v,(function(t,e){m[y++]=e})),v=[]),l=s.eq(e).find(".imgDiv"),g.push(l),l=s.eq(e).find(".J_marqueePropListInfo"),h&&v.push(l);$.each(g,(function(t,e){m[y++]=e})),$.each(v,(function(t,e){m[y++]=e}))}else if(-1==w){for(r=Math.floor(r),e=0;e<n;e++)0!=g.length&&g.length%r==0&&($.each(g,(function(t,e){m[y++]=e})),g=[],$.each(v,(function(t,e){m[y++]=e})),v=[]),l=s.eq(e).find(".imgDiv"),g.push(l),l=s.eq(e).find(".J_marqueePropListInfo"),h&&v.push(l);g.length>0&&($.each(g,(function(t,e){m[y++]=e})),$.each(v,(function(t,e){m[y++]=e})))}return m}(n));break;case 16:i=function(t){var e,n=Fai.top.$("#module"+t),i=[],o=[],r=n.find("#productList"+t);if(r.length<1)return;return(e=r.find(".productPicListForm")).each((function(){i.push($(this))})),(e=r.find(".productListSytle")).length>0&&o.push(e),(e=r.find(".separatorLine")).length>0&&o.push(e),(e=r.find("#pagenation"+t)).length>0&&o.push(e),o.special=1,o.animationCls="fadeIn",i.push(o),i}(n);break;case 17:0==e?i=function(t){var e,n,i,o,r,a,s,l,u=Fai.top.$("#module"+t),c=[],f=[],d=u.find("#product-gallery-container"+t);if(d.length<1)return;s=(l=Fai.top["productList"+t])&&l.data&&l.data.imgEffType?l.data.imgEffType:1;for(a=d.find(".product-container"),e=a.length,n=Math.round(d.parent().width()/a.outerWidth(!0)),i=e<n?e:n,r=a.find(".img-container"),o=0;o<i;o++)f.push(r[o]);c.push(f),f=[],(r=a.find(".J_containerPropListInfo")).length>0&&r.find(".sixth_ProductPanel").length>0&&(r=r.find(".sixth_ProductPanel"));if(4!=s&&5!=s||r.find(".g_stress .fk-prop-price-other").length>0){for(o=0;o<i;o++)f.push(r[o]);c.push(f),f=[]}return(r=u.find(".product-gallery-inner .gallery-control")).length>0&&f.push(r),f.special=1,f.animationCls="fadeIn",c.push(f),c}(n):1==e&&(i=function(t){var e,n,i,o,r,a,s,l,u=Fai.top.$("#module"+t),c=[],f=[],d=0,h=u.find("#product-gallery-container"+t);if(h.length<1)return;s=(l=Fai.top["productList"+t])&&l.data&&l.data.imgEffType?l.data.imgEffType:1;for(a=h.find(".product-container"),e=a.length,n=Math.round(h.parent().width()/a.outerWidth(!0)),i=e<n?e:n,r=a.find(".img-container"),o=0;o<i;o++)f.push(r[o]),c[d++]=f,f=[];(r=a.find(".J_containerPropListInfo")).length>0&&r.find(".sixth_ProductPanel").length>0&&(r=r.find(".sixth_ProductPanel"));if(4!=s&&5!=s||r.find(".g_stress .fk-prop-price-other").length>0)for(o=0;o<i;o++)f.push(r[o]),c[d++]=f,f=[];return(r=u.find(".product-gallery-inner .gallery-control")).length>0&&f.push(r),f.special=1,f.animationCls="fadeIn",c[d++]=f,c}(n));break;case 18:0==e?i=function(t){var e,n,i=Fai.top.$("#module"+t),o=[],r=0,a=i.find(".productSmallPicForms");if(a.length<1)return;return e=a.find(".smallPicUpForms"),o.push(e),n=a.find(".smallPicDownForms"),e=n.find(".smallPicDownFormsMid"),o.push(e),e=n.find(".smallPrePic_control"),o.push(e),r=o.length-1,o[r].special=1,o[r].animationCls="fadeIn",o}(n):1==e&&(i=function(t){var e,n,i=Fai.top.$("#module"+t),o=[],r=0,a=i.find(".productSmallPicForms");if(a.length<1)return;return n=a.find(".smallPicUpForms"),e=n.find(".containerLeft"),o.push(e),e=n.find(".containerRight"),o.push(e),n=a.find(".smallPicDownForms"),(e=n.find(".smallPicDownFormsMid .smallPrePicOuter")).each((function(){o.push($(this))})),e=n.find(".smallPrePic_control"),o.push(e),r=o.length-1,o[r].special=1,o[r].animationCls="fadeIn",o}(n));break;case 19:0==e?i=function(t){var e,n=Fai.top.$("#module"+t),i=[],o=[],r=n.find("#productList"+t);if(r.length<1)return;return(e=r.find(".doubleProduct")).each((function(){i.push($(this))})),(e=r.find(".productListSytle")).length>0&&o.push(e),(e=r.find(".separatorLine")).length>0&&o.push(e),(e=r.find("#pagenation"+t)).length>0&&o.push(e),o.special=1,o.animationCls="fadeIn",i.push(o),i}(n):1==e&&(i=function(t){var e,n=Fai.top.$("#module"+t),i=[],o=[],r=n.find("#productList"+t);if(r.length<1)return;return(e=r.find(".doubleProduct")).each((function(){$(this).find(".productDoublePicListForm").each((function(){i.push($(this).find(".imgDiv")),i.push($(this).find(".propList"))}))})),(e=r.find(".productListSytle")).length>0&&o.push(e),(e=r.find(".separatorLine")).length>0&&o.push(e),(e=r.find("#pagenation"+t)).length>0&&o.push(e),o.special=1,o.animationCls="fadeIn",i.push(o),i}(n));break;case 20:case 22:case 23:case 25:case 26:case 27:case 28:i=function(t,e){var n,i,o,r=Fai.top.$("#module"+t),a=[],s=[],l=0;if((n=r.find("#newsList"+t)).length<0)return;i=20==e||22==e||23==e||25==e||26==e?n.find(".J_newsListLine"):n.find(".J_newsResultLine");return i.each((function(){a[l++]=$(this)})),(o=n.find(".separatorLine")).length>0&&s.push(o),(o=r.find("#pagenation"+t)).length>0&&s.push(o),s.special=1,s.animationCls="fadeIn",a[l++]=s,a}(n,r);break;case 21:0==e?i=function(t){var e,n,i,o,r,a,s,l,u=Fai.top.$("#module"+t),c=[],f=[],d=[],h=0;if((a=u.find("#newsList"+t)).length<0)return;for(s=a.find(".J_newsListLine"),n=s.length,i=(i=a.width()/s.outerWidth(!0))<1?1:parseInt(i),o=Math.ceil(a.height()/s.outerHeight(!0)),r=i*o<n?i*o:n,e=0;e<r;e++)e%i==0&&0!=e&&(c[h++]=f,c[h++]=d,f=[],d=[]),l=s.eq(e).find(".J_articlePhotoBox"),f.push(l),l=s.eq(e).find(".J_articleDesc"),d.push(l);f.length>0&&(c[h++]=f,c[h++]=d,f=[],d=[]);return(l=u.find("#pagenation"+t)).length>0&&f.push(l),f.special=1,f.animationCls="fadeIn",c[h++]=f,c}(n):1==e&&(i=function(t){var e,n,i,o,r,a,s,l,u=Fai.top.$("#module"+t),c=[],f=[],d=[],h=0;if((a=u.find("#newsList"+t)).length<0)return;for(s=a.find(".J_newsListLine"),n=s.length,i=(i=a.width()/s.outerWidth(!0))<1?1:parseInt(i),o=Math.ceil(a.height()/s.outerHeight(!0)),r=i*o<n?i*o:n,e=0;e<r;e++)0!=f.length&&f.length%i==0&&($.each(f,(function(t,e){c[h++]=e})),f=[],$.each(d,(function(t,e){c[h++]=e})),d=[]),l=s.eq(e).find(".J_articlePhotoBox"),f.push(l),l=s.eq(e).find(".J_articleDesc"),d.push(l);return $.each(f,(function(t,e){c[h++]=e})),$.each(d,(function(t,e){c[h++]=e})),f=[],d=[],(l=u.find("#pagenation"+t)).length>0&&f.push(l),f.special=1,f.animationCls="fadeIn",c[h++]=f,c}(n));break;case 24:i=function(t){var e,n,i,o,r=Fai.top.$("#module"+t),a=[],s=[],l=0;if((e=r.find("#newsList"+t)).length<0)return;return n=e.find(".J_newsListLine"),o=e.find(".J_timeLine"),s.push(o),o=n.find(".newsCircleOuter"),s.push(o),a[l++]=s,s.special=1,s.animationCls="fadeIn",(s=[]).special=0,n.each((function(){s.push($(this).find(".J_newsCalendar")),s.push($(this).find(".J_newsTitle")),a[l++]=s,(s=[]).push($(this).find(".pic-mixNewsStyleSummary")),a[l++]=s,s=[]})),(i=r.find("#pagenation"+t)).length>0&&s.push(i),s.special=1,s.animationCls="fadeIn",a[l++]=s,a}(n);break;case 100:case 111:0==e?i=u(n):1==e?i=c(n):2==e?i=f(n):3==e&&(i=f(n,!0));break;case 101:0==e?i=u(n):1==e?i=c(n):2==e?i=d(n):3==e&&(i=d(n,!0));break;case 102:case 105:case 107:0==e?i=u(n):1==e?i=c(n):2==e?i=h(n):3==e&&(i=h(n,!0));break;case 103:case 104:case 108:0==e?i=u(n):1==e?i=c(n):2==e?i=p(n):3==e&&(i=p(n,!0));break;case 106:0==e?i=u(n):1==e?i=c(n):2==e?i=m(n):3==e&&(i=m(n,!0));break;case 109:0==e?i=u(n):1==e?i=c(n):2==e?i=g(n):3==e&&(i=g(n,!0));break;case 110:0==e?i=u(n):1==e?i=c(n):2==e?i=v(n):3==e&&(i=v(n,!0));break;case 112:0==e?i=u(n):1==e?i=c(n):2==e?i=y(n):3==e&&(i=y(n,!0));break;case 116:0==e&&(i=function(t){var e=jzModule.SiteModule.find(t).$el.find(".m_news_content"),n=[];return e.each((function(t,e){n.push($(e))})),n}(n))}return i};function s(t,e){var n,i,o=Fai.top.$("#module"+t),r=[],a=[],s=0;if(10!=e&&13!=e)return n=o.find(".richModuleSlaveImgContainer"),(i=o.find(".richContent")).length>0&&a.push(i),n.length>0&&a.push(n),r[s++]=a,a=[],r}function l(t,e){var n,i,o=Fai.top.$("#module"+t),r=[],a=[],s=0;if(7!=e)return n=o.find(".richModuleSlaveImgContainer"),i=o.find(".richContent"),n.length>0&&(a.push(n),r[s++]=a,a=[]),i.length>0&&(a.push(i),r[s++]=a,a=[]),r}function u(t){var e,n=[],i=Fai.top.$("#module"+t).find(".moreCardDrag"),o=i.length;if(o>0)for(var r=0;r<o;r++)e=$(i[r]).find(".moreCardTd"),n[r]=e;return n}function c(t){var e,n=[],i=[],o=Fai.top.$("#module"+t).find(".moreCardTd"),r=o.length;if(r>0){e=o;for(var a=0;a<r;a++)i.push(e[a]),n[a]=i,i=[]}return n}function f(t,e){var n,i=[],o=[],r=Fai.top.$("#module"+t).find(".moreCardTd"),a=r.length;if(a>0){n=r;for(var s=0;s<a;s++){var l;s%4==2?(o.push(n[s+1]),i[s]=o,o=[],l=s):s==l+1?(o.push(n[s-1]),i[s]=o,o=[]):(o.push(n[s]),i[s]=o,o=[]),s%4==0?i[s].r=e?1:2:s%4==1?i[s].r=e?3:4:s%4==2?i[s].r=e?2:1:s%4==3&&(i[s].r=e?4:3)}}return i.everyItemDirection=!0,i}function d(t,e){var n,i=[],o=[],r=Fai.top.$("#module"+t).find(".moreCardTd"),a=r.length;if(a>0){n=r;for(var s=0;s<a;s++)o.push(n[s]),i[s]=o,o=[],s%4==0?i[s].r=e?1:2:s%4==1?i[s].r=e?3:4:s%4==2?i[s].r=e?2:1:s%4==3&&(i[s].r=e?4:3)}return i.everyItemDirection=!0,i}function h(t,e){var n,i=[],o=[],r=Fai.top.$("#module"+t).find(".moreCardTd"),a=r.length;if(a>0){n=r;for(var s=0;s<a;s++){var l;s%5==3?(o.push(n[s+1]),i[s]=o,o=[],l=s):s==l+1?(o.push(n[s-1]),i[s]=o,o=[]):(o.push(n[s]),i[s]=o,o=[]),s%5==0?i[s].r=e?1:2:s%5==1?i[s].r=e?3:4:s%5==2?i[s].r=e?2:1:s%5==3?i[s].r=e?4:3:s%5==4&&(i[s].r=e?1:2)}}return i.everyItemDirection=!0,i}function p(t,e){var n,i=[],o=[],r=Fai.top.$("#module"+t).find(".moreCardTd"),a=r.length;if(a>0){n=r;for(var s=0;s<a;s++){var l;s%5==2?(o.push(n[s+2]),i[s]=o,o=[],l=s):s==l+2?(o.push(n[s-2]),i[s]=o,o=[]):(o.push(n[s]),i[s]=o,o=[]),s%5==0?i[s].r=e?1:2:s%5==1?i[s].r=e?3:4:s%5==2?i[s].r=e?2:1:s%5==3?i[s].r=e?4:3:s%5==4&&(i[s].r=e?1:2)}}return i.everyItemDirection=!0,i}function m(t,e){var n,i=[],o=[],r=Fai.top.$("#module"+t).find(".moreCardTd"),a=r.length;if(a>0){n=r;for(var s=0;s<a;s++){var l;s%7==4?(o.push(n[s+2]),i[s]=o,o=[],l=s):s==l+2?(o.push(n[s-2]),i[s]=o,o=[]):(o.push(n[s]),i[s]=o,o=[]),s%7==0?i[s].r=e?1:2:s%7==1||s%7==2?i[s].r=e?3:4:s%7==3?i[s].r=e?2:1:s%7==4||s%7==5?i[s].r=e?4:3:s%7==6&&(i[s].r=e?1:2)}}return i.everyItemDirection=!0,i}function g(t,e){var n,i=[],o=[],r=Fai.top.$("#module"+t).find(".moreCardTd"),a=r.length;if(a>0){n=r;for(var s=0;s<a;s++)o.push(n[s]),i[s]=o,o=[],s%3==0?i[s].r=e?1:2:s%3==1?i[s].r=e?3:4:s%3==2&&(i[s].r=e?2:1)}return i.everyItemDirection=!0,i}function v(t,e){var n,i=[],o=[],r=Fai.top.$("#module"+t).find(".moreCardTd"),a=r.length;if(a>0){n=r;for(var s=0;s<a;s++){var l;s%3==1?(o.push(n[s+1]),i[s]=o,o=[],l=s):s==l+1?(o.push(n[s-1]),i[s]=o,o=[]):(o.push(n[s]),i[s]=o,o=[]),s%3==0?i[s].r=e?1:2:s%3==1?i[s].r=e?3:4:s%3==2&&(i[s].r=e?2:1)}}return i.everyItemDirection=!0,i}function y(t,e){var n,i=[],o=[],r=Fai.top.$("#module"+t).find(".moreCardTd"),a=r.length;if(a>0){n=r;for(var s=0;s<a;s++){var l;s%6==3?(o.push(n[s+2]),i[s]=o,o=[],l=s):s==l+2?(o.push(n[s-2]),i[s]=o,o=[]):(o.push(n[s]),i[s]=o,o=[]),s%6==0?i[s].r=e?1:2:s%6==1?i[s].r=e?3:4:s%6==2?i[s].r=e?2:1:s%6==3||s%6==4?i[s].r=e?4:3:s%6==5&&(i[s].r=e?1:2)}}return i.everyItemDirection=!0,i}t.exports={initSiteAnimation:function(t){var e=n(t);!function(t,e){var n=t.idSelector,i=$("#".concat(n)),o=e.style;bizShared.ANIMATION_TYPE_LIST.forEach((function(e){switch(t[e].beforeAnimationStart=function(e){return new Promise((function(n){var i=t.id,r=t.idSelector,a=$("#".concat(r)),s=Site.checkNestModule(a),l=Site.getModuleStatus(i);if(s.inPack);else if(s.nest||1!=l&&3!=l)if(s.nest||2!=l){if(29==o||110==o);else if(117!=o)return a.removeClass("animateModule"),e.type=0,void n(e)}else if(79!=o&&81!=o&&86!=o&&115!=o)return a.removeClass("animateModule"),e.type=0,void n(e)}))},t[e].afterAnimationEnd=function(t){return new Promise((function(e){115==o&&Site.triggerScroll(i),e(t)}))},e){case bizShared.ANIMATION_TYPE.CONTENT:break;case bizShared.ANIMATION_TYPE.ADMISSION:case bizShared.ANIMATION_TYPE.EMPHASIS:if(29==o||110==o){var n=i.find(".tab_anim"),r=Array.from(n);t[e].el=r}}}))}(e,t),bizShared.AnimationApis.initAnimationManage(e)},getSiteAnimationConfig:n,getModuleStructureTypeForAnimation:o,getModuleTypeForAnimation:r,getContentDomSeqList:a,getAnimationDirectionConf:i}},173:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i,o;return e=t,o=[{key:"init",value:function(t){var e=$("#module"+t).find(".J_unitCustomSearchEntry");e.length<1||e.find(".J_unitCustomSearchEntrySubmit").off("click.submit").on("click.submit",(function(){return function(t){if(Fai.top.openMsgSearch)if(t.removeData("disabled"),t.data("disabled"))Fai.ing(LS.js_customSearchNoOpen,!0);else{var e=[],n=parseInt(t.data("projectId"));e.push("id="+n),function(t,e){for(var n=[],i=$.makeArray(t.find(".J_unitCustomSearchEntryControl")),o=0;o<i.length;o++){var r=i[o],a=$(r),s=a.data("type"),l=a.data("required"),u=a.data("id"),c=a.data("name"),f="",d=!1;switch(s){case 0:if(!(f=a.find("input").val())){if(l)return Fai.ing(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(c)),!1),!1;d=!0}break;case 1:if(!(f=a.find("input:checked").val())){if(l)return Fai.ing(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(c)),!1),!1;d=!0}break;case 2:var h=$.makeArray(a.find("input:checked")).map((function(t){return $(t).val()}));if(h.length<1){if(l)return Fai.ing(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(c)),!1),!1;d=!0}f=h.join("\n");break;case 3:if("none"==(f=a.find("select").val())||!f){if(l)return Fai.ing(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(c)),!1),!1;d=!0}}d||n.push({prop:"prop"+u,type:s,value:f})}return e(n),!0}(t,(function(t){e.push("condition="+Fai.encodeUrl($.toJSON(t)))}))&&(window.location.href=Site.preprocessUrl({path:"",oldPath:""})+"csr.jsp?".concat(e.join("&")),Site.logDog(201006,1))}else Fai.ing("请开通查询功能",!0)}(e)}))}}],(i=null)&&n(e.prototype,i),o&&n(e,o),t}()},174:function(t,e){t.exports={isSupportWebp:function n(){if("undefined"!=typeof n._value)return n._value;if(Fai.top._debug)return n._value=!1;var t="image/webp",e=document.createElement("canvas");return n._value=!(!e.getContext||!e.getContext("2d"))&&0===e.toDataURL(t).indexOf("data:image/webp")},imgToWebp:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",e=/(\.faiusr\.com)|(\.aaadns\.com)/;return e.test(t)&&(t=t.replace(/(jpg|jpeg|png|gif)$|(jpg|jpeg|png|gif)\?v=/,(function(t,e,n){return e?e+".webp":n?t.replace(n,n+".webp"):void 0}))),t}}},23:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports={supportsIntersectionObserver:function i(){if("undefined"!=typeof i._value)return i._value;var t=Fai.isIE7()||Fai.isIE8(),e=Fai.top.window.navigator.userAgent.toLowerCase(),n=(e.includes("android")||e.includes("adr"))&&e.includes("micromessenger");return i._value="IntersectionObserver"in window&&!t&&!n},isIntersecting:function(t){return t.isIntersecting||t.intersectionRatio>0},isFunction:function(t){return"function"==typeof t},isUndefined:function(t){return void 0===t},debounce:function(t,e){var n=t,i=null;return function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];var a=this;clearTimeout(i),i=setTimeout((function(){n.apply(a,o)}),e)}},throttle:function(t,e){var n=null;return function(){var i=this,o=arguments;n||(n=setTimeout((function(){t.apply(i,o),n=null}),e))}},_typeof:function(t){var e=n(t);return"object"===e&&null!==t&&Array.isArray(t)?"array":"function"===e?"function":"symbol"===e?"symbol":null===t?"null":"object"!==e?e:"object"}}},4:function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__4__},524:function(t,e,n){"use strict";n.r(e);var i=n(4),o=n(170),r=n(7),a=n(525),s=n(542),l=n(544),u=n(546),c=n(171),f=n(172),d=f.getSiteAnimationConfig,h=f.initSiteAnimation;if("undefined"!=typeof window){window.jzSite={lazyLoad:l,hiddenModules:u,mutationObserver:c,digGet:i.digGet,getSiteAnimationConfig:d,initSiteAnimation:h};var p=window.jzModule||(window.jzModule={});p.Module=o,p.SiteModule=r,s.install(p),window.onlineMapCallBack=function(){try{p.OnlineMapModule.onlineMapCallBackStack.length&&p.OnlineMapModule.onlineMapCallBackStack.forEach((function(t){"function"==typeof t&&t()})),p.OnlineMapModule.finishCallBack=!0}catch(t){console.log(t)}},Object.assign(p,a)}},525:function(t,e,n){var i=n(7),o=n(526),r=n(527),a=n(528),s=n(529),l=n(531),u=n(532),c=n(535),f=n(536),d=n(537),h=n(538),p=n(539),m=n(540),g=n(541);t.exports=e={SiteFormModule:o,OnlineMapModule:r,CustomSearchModule:a,CustomSearchResultModule:s,TabModule:l,TabPackModule:u,NewsListModule:c,SimpleTextModule:f,AccordionPackModule:m,FriendLinkModule:g},e.getSiteModuleClass=function(t){switch(t.style){case 18:return r;case 113:return a;case 114:return s;case 116:return c;case 32:return t.isVue?o:i;case 29:return t.isVue?l:i;case 110:return t.isVue?u:i;case 109:return d;case 80:return h;case 87:return p;case 117:return m;case 118:return g}return i}},526:function(module,exports,__webpack_require__){(function(module){function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function asyncGeneratorStep(t,e,n,i,o,r,a){try{var s=t[r](a),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,o)}function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function a(t){asyncGeneratorStep(r,i,o,a,s,"next",t)}function s(t){asyncGeneratorStep(r,i,o,a,s,"throw",t)}a(undefined)}))}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var SiteModule=__webpack_require__(7),hasLog=!1;module.exports=function(_SiteModule){_inherits(SiteFormModule,_SiteModule);var _super=_createSuper(SiteFormModule);function SiteFormModule(){return _classCallCheck(this,SiteFormModule),_super.apply(this,arguments)}return _createClass(SiteFormModule,[{key:"init",value:function(){if(Fai.top._isMallWeb||this.getLotteryId(),this.initSubmit(),this.initLoginUrl(),this.initValidation(),this.fixLowIePlaceholder(),this.initPriceCalcRules(),hasLog||(hasLog=!0,Site.logDog(201020,1)),!_manageMode&&this.options.formId){for(var t=this.options.contentList,e=0;e<t.length;e++){var n=t[e];if(!n.hide)switch(n.type){case 6:this.initDatepicker(n);break;case 7:this.initFileUpload(n);break;case 8:this.initPhoneValidateCode(n);break;case 11:this.initAddress(n)}}this.initRules(this.options.ruleList,t)}}},{key:"initPriceCalcRules",value:function initPriceCalcRules(){var _this=this,formId=Fai.top._manageMode?this.module.formData.id:this.options.formId;if(formId){var _this$options=this.options,openOnlinePay=_this$options.openOnlinePay,payType=_this$options.payType,_this$options$formula=_this$options.formulaData;_this$options$formula=void 0===_this$options$formula?{}:_this$options$formula;var _this$options$formula2=_this$options$formula.formula,formula=void 0===_this$options$formula2?"":_this$options$formula2;if(openOnlinePay&&1==payType){this.answerMap={},this.selectedMap={};var formItemSelector="",hasRuleFormItem=formula.match(/prop\d+/gi)||[];if(0!==hasRuleFormItem.length)hasRuleFormItem.forEach((function(t){t=Number(t.replace("prop",""))||0;var e=_this.options.contentList.find((function(e){return e.id===t}));e&&(_this.answerMap[t]=e.input.split("\n"),_this.selectedMap[t]=null,formItemSelector+="[data-formid='".concat(t,"'],"))})),this.$el.find(formItemSelector).each((function(t,e){var n=$(e),i=n.data("type"),o=n.data("formid");if(i&&!(o<0)){n.find({2:"input[type=radio]",4:"select"}[i]).off("change.calcPrice").on("change.calcPrice",(function(t){var e=$(t.target),n=_this.answerMap[o].indexOf(e.val());-1!=n&&(_this.selectedMap[o]=n,_this.checkUpdatePrice(_this.selectedMap))})).off("clearCalc").on("clearCalc",(function(){_this.selectedMap[o]=null,_this.$el.find(".pay_price").text("0.00")}))}}));else{var price="0.00";try{price=eval(formula).toFixed(2)}catch(error){console.error(error)}this.$el.find(".pay_price").text(price)}}}}},{key:"checkUpdatePrice",value:function checkUpdatePrice(){var selectedMap=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},needUpdatePrice=Object.values(selectedMap).every((function(t){return null!=t}));if(needUpdatePrice)try{var _this$options$formula3=this.options.formulaData;_this$options$formula3=void 0===_this$options$formula3?{}:_this$options$formula3;var _this$options$formula4=_this$options$formula3.formula,formula=void 0===_this$options$formula4?"":_this$options$formula4,_this$options$formula5=_this$options$formula3.variableList,variableList=void 0===_this$options$formula5?[]:_this$options$formula5,updatedPriceExp=formula.replace(/prop(\d+)/gi,(function(){var t=Number(arguments.length<=1?undefined:arguments[1]),e=selectedMap[t];if(null==e)throw"表单项".concat(t,"已删除");var n=variableList.find((function(e){return e.id===t}));if(!n||!n.selectList)throw"找不到表单项".concat(t,"变量数据");return n.selectList[e]})),price=eval(updatedPriceExp).toFixed(2);"Infinity"===Math.abs(price).toString()||isNaN(price)?this.$el.find(".pay_price").text(""):this.$el.find(".pay_price").text(price)}catch(err){Fai.ing("支付金额计算有误，请联系管理员",!0),console.error(err)}}},{key:"initRules",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],e=arguments.length>1?arguments[1]:undefined;if(0!==t.length){var n=Site.checkRuleList(t,e),i=n.enableRuleList,o=n.hasRuleItemIds,r=_manageMode?this.options.module.id:this.options.moduleId;this.$el.find(".form_item").each((function(t,n){var a=$(n),s=Number(a.data("formid"));if(o.includes(s)){var l=Number(a.data("type")),u=i.filter((function(t){return t.contentId===s}));Site.initRuleEvent(a,l,u,e,i,r)}}))}}},{key:"showMsg",value:function(t){if(this.options.isPack)Fai.ing(t,!0);else{if(!this.$msgContainer){var e=$('<div class="submit_msg"><div class="g_tip"></div></div>');this.$el.find(".item_Submit_wrap").before(e),this.$msgContainer=e.find(".g_tip")}this.$msgContainer.html(t)}}},{key:"hideMsg",value:function(){this.$msgContainer&&(this.$msgContainer.parent().remove(),this.$msgContainer=null)}},{key:"initLoginUrl",value:function(){var t=this.$el.find(".login_url");t.length&&t.attr("href",Site.preprocessUrl({path:"login.jsp?url=".concat(Fai.encodeUrl(Fai.top.location.pathname+Fai.top.location.search)),oldPath:"login.jsp?url=".concat(Fai.encodeUrl(Fai.top.location.pathname+Fai.top.location.search))}))}},{key:"initValidation",value:function(){var t=this;this.$el.find(".validatecode_img, .validatecode_tip").click((function(){t.refreshValidation()}))}},{key:"initPhoneValidateCode",value:function(t){var e=this,n=this.$el.find(".item_".concat(t.id)),i=!0;n.find(".phone_number").off("input").on("input",(function(t){11!=t.target.value.length?(n.find(".J_validatorCodeBtn").addClass("phone_validator_code_btn__disabled"),i=!0):(n.find(".J_validatorCodeBtn").removeClass("phone_validator_code_btn__disabled"),i=!1)}));var o=function(){var i=_asyncToGenerator(regeneratorRuntime.mark((function o(){var i,r,a,s;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if((i=$.trim(n.find(".phone_number").val()))&&Fai.isMobile(i)){o.next=4;break}return e.showMsg(Fai.format(LS.site_newMobileNumRegular,11)),o.abrupt("return");case 4:if(r=function(n){return new Promise((function(o){var r={formId:e.options.formId,contentId:t.id,validateCode:n,mobile:i};$.ajax({type:"POST",url:Site.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/siteForm_h.jsp?cmd=wafNotCk_sendValidateCode",data:r,error:function(){o()},success:function(t){var e=$.parseJSON(t);o(e)}})}))},!t.smsImgVerify){o.next=11;break}return o.next=8,Site.createCaptchaPopup(r);case 8:o.t0=o.sent,o.next=14;break;case 11:return o.next=13,r();case 13:o.t0=o.sent;case 14:if(a=o.t0,t.smsImgVerify||(a&&a.success?Fai.ing(LS.memberDialogSendMobileCode,!0):Fai.ing(a&&a.msg?a.msg:LS.js_argsError)),!a||!a.success){o.next=20;break}return s=function(){return new Promise((function(t){var e=60,i=setInterval((function(){e--,n.find(".J_validatorCodeBtn").html(Fai.format(LS.reacquireMemCode,e)),e<1&&(clearInterval(i),t())}),1e3)}))},o.next=20,s();case 20:case"end":return o.stop()}}),o)})));return function(){return i.apply(this,arguments)}}(),r=!1;n.find(".J_validatorCodeBtn").off("click").on("click",(function(){_manageMode?Site.Message.warning("管理态不支持获取验证码"):r||i||(r=!0,o().then((function(){n.find(".J_validatorCodeBtn").html(LS.memberDialogAcquireCode),r=!1})))}))}},{key:"initDatepicker",value:function(t){var e=this.$el.find(".item_".concat(t.id));this._initDatepicker(t,e,!1),1==t.dateSetting.type&&this._initDatepicker(t,e,!0)}},{key:"_initDatepicker",value:function(t,e,n){var i=t.dateSetting;$.inArray(7,i.banSingleDateList)>-1&&-1===$.inArray(0,i.banSingleDateList)&&i.banSingleDateList.push(0);var o=e.find(".start_time"),r=e.find(".end_time"),a=n?r:o,s="1900:"+(parseInt($.format.date(new Date,"yyyy"))+10),l=0==i.type&&1==i.accuracy,u=new Date,c=new Date(u.getFullYear(),u.getMonth(),u.getDate()),f=v(c)[0],d=i.od.unSelectDay?i.od.unSelectDay.concat([]).sort((function(t,e){return t-e})):[],h=[];1==i.ot.t&&(h=i.ot.unSelectTime.slice());for(var p=0,m=1==i.banPassDate?c:new Date(1900,0,1),g=0;g<24;g++)if(-1==$.inArray(g,h)){p=g;break}function v(t){var e=!0,n=t.getDay(),o=t.getTime();return 0==i.od.t?[!0,""]:(1==i.banAll&&(e=!1),0!=n&&6!=n||(e=1!=i.banHoliday),i.banSingleDateList&&i.banSingleDateList.length&&1==i.od.t&&$.inArray(n,i.banSingleDateList)>-1&&(e=!1),1==i.od.t&&$.inArray(o,i.od.unSelectDay)>-1&&(e=!1),1==i.od.t&&$.inArray(o,i.od.openDay)>-1&&(e=!0),[e,""])}a.datetimepicker("destroy").datetimepicker({dateFormat:"yy-mm-dd",changeYear:!0,changeMonth:!0,showButtonPanel:f,yearRange:s,zIndex:9033,hour:p,controlType:"fkControl",showMinute:!1,showTime:!1,hourText:"",hourAccuracy:!0,minDate:m,showTimepicker:l,autoChangeMonthYear:!1,beforeShow:function(t,e){e.dpDiv.addClass("fk-siteFormDatePicker fk-moduleFormDatePicker"),!n&&e.startDateNotLimit&&(e.settings.minDate=m,e.settings.maxDate=null,e.startDateNotLimit=!1)},afterShow:function(t,e){var i;n&&(i=new Date(o.val())).getTime()&&$.datepicker._selectToMonthYearDate("#"+t.id,e,i.getMonth(),i.getFullYear(),i.getDate())},onAfterUpdatePicker:function(t){var e=t.dpDiv.find(".ui-datepicker-today").find(".ui-state-default"),n=(new Date(t.currentYear,t.currentMonth,t.currentDay),0!=t.currentYear||0!=t.currentMonth||0!=t.currentDay);new Date(u.getFullYear(),u.getHours(),u.getDate());e.hasClass("ui-state-hover")&&!n?e.addClass("fk-todayDefaultStyle"):t.dpDiv.find(".ui-state-hover").removeClass("ui-state-hover")},beforeShowTime:function(t){return!(h.length>0&&$.inArray(t,h)>-1)},beforeShowDay:function(t){return v(t)},onSelect:function(t,e){var a,s=t.replace(/-/g,"/"),u=new Date(s),c=new Date(u.getFullYear(),u.getMonth(),u.getDate()).getTime(),f={minDate:m,maxDate:null};if(n){if(n){for(var h=d.length;h>=0;h--)if(c>=d[h]){a=h;break}"number"==typeof a&&1==i.od.t&&(f.minDate=m.getTime()<d[a]?new Date(d[a]):m),e.startDateNotLimit=!1,f.maxDate=new Date(s),o.datetimepicker("option",f)}}else{if(1==i.banAll||1==i.banHoliday||d.length>0)for(h=0;h<365;h++)if(nextDay=new Date(c+864e5*h),!v(nextDay)[0]){f.maxDate=nextDay;break}e.startDateNotLimit=!0,f.minDate=new Date(s),r.datetimepicker("option",f)}l||(e.inline=!1)},onAfterSelect:function(t,e){e.inline||n||r.focus()}}),n&&r.off("click.openStart").on("click.openStart",(function(t){o.focus()}))}},{key:"initFileUpload",value:function(t){var e=this.$el.find(".item_".concat(t.id)),n=e.find(".upload_btn");if(_manageMode)n.click((function(){Fai.ing("当前为管理状态，文件上传无效。",!0)}));else{var i="*.*;";t.isAllFile||(i=((t.dftl||"")+(t.cftl||"")).split(" ").filter((function(t){return t})).map((function(t){return"*.".concat(t,";")})).join(""));var o=t.size,r=this.options.fileSizeLimit||300;Fai.top._oem?Fai.top._siteVer<=120&&(r=10):Fai.top._siteVer<=10&&(r=1),o>r&&(o=r);var a,s=n.attr("value"),l=.31*e.width(),u=this.$el.width();if(u<=400?(l=.95*(u-60))>161&&(l=161):l<111?l=111:l>161&&(l=161),Fai.isIE()){a=5,navigator.userAgent.toLowerCase().indexOf("se 2.x")>-1&&(a=6);var c={file_post_name:"Filedata",upload_url:"/ajax/upsiteimg_h.jsp",button_placeholder:n.get(0),file_size_limit:o+"MB",button_image_type:a,file_queue_limit:1,requeue_on_error:!1,button_height:"34",button_width:l-2,button_text:"<span class='fk_btText'>"+s+"</span>",button_text_style:".fk_btText{text-align:center; font-family: 微软雅黑; color: #666666;}",button_text_top_padding:8,post_params:{ctrl:"Filedata",app:21,type:0,isSiteForm:!0},file_types:i,file_dialog_complete_handler:function(t){this._allSuccess=!1,this.startUpload()},file_queue_error_handler:function(t,e,n){switch(e){case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:Fai.ing(LS.siteFormSubmitCheckFileSizeErr,!0);break;case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:Fai.ing("不允许的文件类型",!0);break;case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:Fai.ing("一次只能上传一个文件",!0);break;default:Fai.ing("请重新选择文件上传。",!0)}},upload_success_handler:function(t,e){var n=jQuery.parseJSON(e);this._allSuccess=n.success,this._sysResult=n.msg,n.success?(Fai.ing(Fai.format(LS.siteFormSubmitFileUploadSucess,Fai.encodeHtml(t.name)),!0),g(n)):Fai.ing("文件"+t.name+"，"+n.msg)},upload_error_handler:function(t,e,n){-280==e?Fai.ing("文件取消成功",!1):-270==e?Fai.ing("已经存在名称为"+t.name+"的文件。",!0):Fai.ing("服务繁忙，文件"+t.name+"上传失败，请稍候重试。")},upload_complete_handler:function(t){t.filestatus==SWFUpload.FILE_STATUS.COMPLETE?setTimeout((function(){f.startUpload()}),f.upload_delay):t.filestatus==SWFUpload.FILE_STATUS.ERROR&&Fai.ing("服务繁忙，文件"+t.name+"上传失败，请稍候重试。")},upload_start_handler:function(t){Fai.ing("读取文件准备上传",!1)},view_progress:function(t,e,n,i){Fai.ing("正在上传"+i+"%",!1)}},f=SWFUploadCreator.create(c)}else{var d=function(){n.uploadify(h),n.css("width",l+2),n.on("click",(function(){n.find("a")[0].click()}))},h={auto:!0,fileTypeExts:i,multi:!0,fileSizeLimit:1024*o*1024,fileSplitSize:1024*o*1024,breakPoints:!0,isBurst:!Fai.top._isMallWeb,saveInfoLocal:!1,showUploadedPercent:!0,showUploadedSize:!0,removeTimeout:9999999,post_params:{app:21,type:0,fileUploadLimit:o,pieceUpload:!Fai.top._isMallWeb},getFileSizeUrl:"/ajax/advanceUpload.jsp?cmd=_getUploadSize",uploader:"/ajax/advanceUpload.jsp?cmd=_mobiupload",onUploadStart:function(t){$("#progressBody_"+t.id).remove(),$("#progressWrap_"+t.id).remove()},onUploadSuccess:function(t,e){var n=$.parseJSON(e);if(n.success){t.id;Fai.ing(Fai.format(LS.siteFormSubmitFileUploadSucess,Fai.encodeHtml(t.name)),!0),g(n)}else{t.id,n.msg;Fai.ing("文件:"+t.name+"，"+n.msg)}$("#progressBody_"+t.id).remove(),$("#progressWrap_"+t.id).remove()},onUploadError:function(t,e){$("#progressBody_"+t.id).remove(),$("#progressWrap_"+t.id).remove(),Fai.ing("网络繁忙，文件:"+t.name+"上传失败，请稍后重试")}};if("function"==typeof $.fn.uploadify)d();else{var p=document.documentElement||document.body,m=document.createElement("script");m.src=this.options.srcjQueryUploadPath,m.type="text/javascript",p.appendChild(m),m.onload=function(){d()}}}}function g(t){var n=t.id,i=t.name,o=t.type,r=(t.size,t.path,t.createTime,t.groupId,t.fileId),a=t.width||0,s=t.height||0,l=(o=t.type||0,e.find(".file_name"));e.find(".limit_tip").hide(),l.show(),l.html(i),l.attr("_tmpFileId",n).attr("_tmpFileName",i).attr("title",i).attr("_fileId",r).attr("_width",a).attr("_height",s).attr("_type",o)}}},{key:"initAddress",value:function(t){var e=this.$el.find(".item_".concat(t.id)),n=this.options.lcid,i=e.find(".select_province"),o=e.find(".select_city"),r=e.find(".select_county"),a=e.find(".none_item").eq(0).clone(),s="";function l(t){var e;2052!=n&&1028!=n&&(t+="En");for(var i=arguments.length,o=new Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];return(e=site_cityUtil)[t].apply(e,o)}l("getProvince").forEach((function(t){var e="",n="";t.cityInfo?(e=t.cityInfo[0],n=t.cityCode):(e=t.name,n=t.id);var i=l("simpleCityNameStr",e);s+='<option _name="'.concat(e,'" value="').concat(n,'">').concat(i,"</option>\n")})),i.append(s),i.change((function(){var t=l("getCities",i.val());r.html("").attr("disabled",!0),o.html("").removeAttr("disabled"),o.append(a.clone()),o.append(t.map((function(t){return'<option _name="'.concat(t.name,'" value="').concat(t.id,'">').concat(t.name,"</option>\n")})))})),o.change((function(){var t=l("getCounty",o.val());r.html("").removeAttr("disabled"),t.length?(r.show().append(a.clone()),r.append(t.map((function(t){return'<option _name="'.concat(t.name,'" value="').concat(t.id,'">').concat(t.name,"</option>\n")})))):r.hide()}))}},{key:"refreshValidation",value:function(){this.$el.find(".validatecode_img").attr("src","validateCode.jsp?".concat(parseInt(1e3*Math.random()),"&vCodeId=").concat(this.options.id).concat(this.options.formId))}},{key:"fixLowIePlaceholder",value:function(){(Fai.isIE6()||Fai.isIE7()||Fai.isIE8()||Fai.isIE9())&&(this.$el.find(".fk_lowIEPlaceholderStyle").remove(),this.$el.find("input, textarea").each((function(t,e){var n=$(e),i=n.attr("placeholder");i&&(n.removeAttr("placeholder"),n.defaultValue||n.val(i).addClass("phcolor"),n.focus((function(){n.val()==i&&n.val("")})),n.blur((function(){""==n.val()&&n.val(i).addClass("phcolor")})),n.keydown((function(){n.removeClass("phcolor")})))})))}},{key:"initSubmit",value:function(){var t=this;this.$el.find(".submit .l, .submit .m, .submit .r").click((function(){return t.submit()}))}},{key:"getParamValue",value:function(t,e){var n=new RegExp(e+"=([^&]*)","i");return t.match(n)&&t.match(n)[1]||""}},{key:"getLotteryId",value:function(){var t=Fai.top.location.search;if(Fai.top.location.search.includes("lotteryId")){var e=this.getParamValue(t,"lotteryId"),n=this.getParamValue(t,"phoneNumber");window.history.pushState(null,"",location.origin+location.pathname+location.search.split("lotteryId")[0]),Site.getLotteryInfo(e,n,null,!0),Site.LocalStore.set("_lotteryId",""),Site.LocalStore.set("_phoneNumber","")}var i=this,o={cmd:"getWafNotCk_getFormLotteryByFormId",formId:Fai.top._manageMode?this.module.formData.id:this.options.formId};(Fai.top._manageMode?this.module.formData.associateLottery:this.options.formData.associateLottery)&&$.ajax({type:"GET",url:Site.addRequestPrefix({newPath:"/ajax/lottery_h.jsp",oldPath:Site.genAjaxUrl("lottery_h.jsp")}),data:o,error:function(){},success:function(t){var e=JSON.parse(t);e.success&&(i.module.lotteryId=e.info.id,i.module.lotteryName=e.info.name,i.module.lotteryOpen=e.info.flag,i.module.allowLottery=e.lotterySettingInfo.allowLottery,i.module.isOpenLottery=e.lotterySettingInfo.isOpenLottery,e.info.flag&&e.lotterySettingInfo.allowLottery&&e.lotterySettingInfo.isOpenLottery&&i.$el.find(".form-lottery-20201021-style").css("opacity",1))}})}},{key:"logFormSubmitByJz",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";!1===Fai.top._manageMode&&!1===Fai.top._isMallWeb&&Site.logJZFdp("jz_c_form_submit",{jz_version:Fai.top.jzVersion,jz_content_terminal:"site",jz_free_text1:t})}},{key:"transformFormItemText",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(0===e.length)return"";var n=e.map((function(e){return t.formItemTypeNameArr[e.type]||""})),i=Array.from(new Set(n));return i.join(",")}},{key:"submit",value:function(){var t=this,e=(this.module.lotteryId,Monitor.startMonitor(MonitorDef.MonitorId.FORM_SUBMIT));new Promise((function(n,i){if(_manageMode)Fai.ing("当前为管理状态，提交无效。",!0);else if(_siteDemo)Fai.ing("当前为“模板网站”，请先“复制网站”再进行提交。",!0);else{if(t.options.permission&&0==t.options.buddyId){var o="login.jsp?url=".concat(Fai.encodeUrl(Fai.top.location.pathname+Fai.top.location.search));return t.showMsg("".concat(LS.siteFormSubmitNotLogin,'<a href="').concat(o,'">').concat(LS.login,"</a>").concat(LS.period))}if(t.options.isJuly3FreeUser)return Site.logDog(200964,8),void Fai.ing("免费版暂不支持此功能");for(var r=[],a=[],s=t.options.contentList,l=t.$el.find(".form_item"),u=[],c=0,f=0;f<s.length;f++){var d=s[f];if(!d.hide){var h=l.eq(c);if(c++,h.is(":visible")){if(t.options.openOnlinePay&&1==t.options.payType&&null===t.selectedMap[d.id])return t.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(d.name)));var p={id:d.id,type:d.type,must:d.must};switch(d.type){case 0:var m=0,g=100,v={};try{v=$.parseJSON(d.wordLimit)||{}}catch(Y){v={o:0}}1===v.o&&(m=v.i,g=v.a);var y=$.trim(h.find("input").val());if(d.must&&""==y)return t.showMsg(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(d.name)));if(y.length>g)return t.showMsg(Fai.format(LS.siteFormSubmitInputMaxLength,Fai.encodeHtml(d.name),g));if(d.must&&y.length<m)return t.showMsg(Fai.format(LS.siteFormSubmitInputMinLength,Fai.encodeHtml(d.name),m));p.val=y||"";break;case 1:var b=$.trim(h.find("textarea").val());if(d.must&&""==b)return t.showMsg(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(d.name)));if(b.length>1e3)return t.showMsg(Fai.format(LS.siteFormSubmitInputMaxLength,Fai.encodeHtml(d.name),1e3));p.val=b||"";break;case 5:break;case 9:var _=$.trim(h.find("input").val());if(d.must&&""==_)return t.showMsg(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(d.name)));if(_&&!Fai.isEmail(_))return t.showMsg(Fai.format(LS.memberSignupUserAddItemCorrect,Fai.encodeHtml(d.name)));p.val=_||"";break;case 10:var w=$.trim(h.find("input").val());if(d.must&&""==w)return t.showMsg(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(d.name)));if(w&&!Fai.isCardNo(w))return t.showMsg(Fai.format(LS.memberSignupUserAddItemCorrect,Fai.encodeHtml(d.name)));p.val=w||"";break;case 7:var S=h.find(".file_name").attr("_fileid"),k=h.find(".file_name").attr("_tmpfileid"),C=h.find(".file_name").attr("_tmpfilename");if(d.must&&!S)return t.showMsg(Fai.format(LS.siteFormSubmitCheckHasFileUpload,Fai.encodeHtml(d.name)));h.find(".file_name").attr("_type"),h.find(".file_name").attr("_width"),h.find(".file_name").attr("_height");S?(r.push({fileId:S,tmpFileId:k,tmpFileName:C}),p.val=S):p.val="";break;case 2:var M=$.trim(h.find("input:checked").val());if(d.must&&""==M)return t.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(d.name)));p.val=M;break;case 3:var F=Array.from(h.find("input:checked")).map((function(t){return t.value}));if(d.must&&0==F.length)return t.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(d.name)));p.val=F.join("\n");break;case 4:var I=$.trim(h.find("select").val());if("none"==I&&(I=""),d.must&&""==I)return t.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(d.name)));p.val=I;break;case 11:var T=$.trim(h.find(".select_province :checked").attr("_name")),P=$.trim(h.find(".select_city :checked").attr("_name")),L=$.trim(h.find(".select_county :checked").attr("_name"));if(d.must&&(!T||!P))return t.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(d.name)));p.val=T+P+L;break;case 8:var x=h.find("select").val(),O=$.trim(h.find(".phone_number").val()),A=(d.phoneNumberLength||"7-11").split("-"),j=A[0],E=A[1]||j,D=$.trim(h.find(".phone_validate_code").val()),B=d.smsVerify&&module.allowedFormSms&&d.smsImgVerify;if(t.options.phoneNumber=O,d.must&&""==O)return t.showMsg(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(d.name)));if(O){if(!Fai.isLimitedRangeNationMobile(O,j,E))return t.showMsg(Fai.format(LS.site_newMobileNumRegular,A));if(11==O.length&&!Fai.isMobile(O))return t.showMsg(Fai.format(LS.site_newMobileNumRegular,A))}if(d.must&&B&&""==D)return t.showMsg(Fai.format(LS.msgBoardInputValidateCode));p.val=x?x+O:O,D&&u.push({id:d.id,phoneValidateCode:D});break;case 6:var H=(d.dateSetting||{}).type||0,R=$.trim(h.find(".start_time").val()),N=$.trim(h.find(".end_time").val());if(d.must&&""==R)return t.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(d.name)));if(p.val=R,1==H){if(d.must&&""==N)return t.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(d.name)));p.val+=" 至 ".concat(N)}}a.push(p)}}}var J="";if(t.options.validation){var z=t.$el.find(".item_ValidateCode_wrap");if(""==(J=$.trim(z.find("input").val())))return t.showMsg(Fai.format(LS.siteFormSubmitInputIsEmpty,z.find(".title").text()))}if(t.options.openOnlinePay&&1==t.options.payType){var U=Number(t.$el.find(".pay_price").text());if(isNaN(U)||U<=0)return t.showMsg("支付金额有误，请联系管理员");if(U>99999999)return t.showMsg("支付金额过大，请联系管理员")}if(!t.isReCommit){t.isReCommit=!0,t.showMsg(LS.siteFormSubmitIng);var q=document.location.href;q.length>500&&(q=q.substring(0,500)),Fai.top.pageName.endsWith(" - ")&&(Fai.top.pageName=Fai.top.pageName.substring(0,Fai.top.pageName.lastIndexOf(" - ")));var W={pageUrl:q,pageName:"电脑网站-"+Fai.top.pageName};$.ajax({type:"post",url:Site.addRequestPrefix({newPath:"/ajax/siteForm_h.jsp",oldPath:Site.genAjaxUrl("siteForm_h.jsp")}),data:"cmd=addWafCk_addSubmit&formId=".concat(t.options.formId,"&submitContentList=").concat(Fai.encodeUrl($.toJSON(a)),"&vCodeId=").concat(t.options.moduleId).concat(t.options.formId,"&validateCode=").concat(J,"&tmpFileList=").concat(Fai.encodeUrl($.toJSON(r)),"&submitOrigin=").concat(Fai.encodeUrl($.toJSON(W)),"&phoneValidateCodes=").concat(Fai.encodeUrl($.toJSON(u))),error:function(n){i(),t.isReCommit=!1;var o=Site.getDialogContent(!1,Fai.format(LS.siteFormSubmitError));Site.popupBox({htmlContent:o,width:205,height:78}),e(!1,n)},success:function(o){if(t.isReCommit=!1,(o=JSON.parse(o)).success){if(t.logFormSubmitByJz(t.transformFormItemText(s)),n(),t.options.openOnlinePay&&t.options.allowOnlinePay){if(Site.logDog(201217,5),t.handleOnlinePayVer2(o),t.module.lotteryOpen&&t.module.allowLottery){var r=t.options.phoneNumber,a=t.module.lotteryId;Site.LocalStore.set("_lotteryId",a),Site.LocalStore.set("_phoneNumber",r)}return void e()}t.checkLottery(),e()}else{if(i(),o.hasFW)return t.showMsg(o.msg);if(-4==o.rt)return t.showMsg(LS.siteFormSubmitCountLimit);if(-7==o.rt)return t.showMsg(LS.siteImgFull);if(-8==o.rt)return t.showMsg(o.msg);if(-20==o.rt)return t.showMsg(o.msg);if(-401==o.rt)return t.refreshValidation(),t.$el.find(".item_validatecode input").val(""),t.showMsg(LS.siteFormSubmitValidateCodeErr);if(-302==o.rt)return t.showMsg(LS.siteFormSubmitNotLogin+LS.login+LS.period);if(-601==o.rt)return t.showMsg(o.msg);if(-28==o.rt){t.hideMsg();var l=[];l.push("<div style='width: 80px; height:80px; border-radius:50%; border: 4px solid gray; border: 4px solid gray; margin: 0 auto; padding: 0; position: relative; top:25px; box-sizing: content-box; border-color: #F8BB86;'>"),l.push("<div style='animation: pulseWarningIns 0.75s infinite alternate; -webkit-animation: pulseWarningIns 0.75s infinite alternate;'>"),l.push("<span style='position: absolute; width: 5px; height: 47px; left: 50%; top: 10px; webkit-border-radius: 2px; border-radius: 2px; margin-left: -2px; background-color: #F8BB86;'></span>"),l.push("<span style='position: absolute; width: 7px; height: 7px; -webkit-border-radius: 50%; border-radius: 50%; margin-left: -3px; left: 50%; bottom: 10px; background-color: #F8BB86;'></span>"),l.push("</div>"),l.push("</div>"),l.push("<div style='color:#333; font-size:16px; padding-top: 48px; text-align:center;'>"+LS.hasSubmitThisSiteForm+"</div>"),Site.popupBox({htmlContent:l.join(""),width:367,height:225}),setTimeout((function(){document.location.reload()}),2e3)}else{if(-1e3==o.rt)return t.showMsg(o.msg);if(-2==o.rt){var u=s.find((function(t){return t.id==o.id}))||{};return t.showMsg((u.name||"")+"："+o.msg)}e(!1,JSON.stringify(o)),t.hideMsg();var c=Site.getDialogContent(!1,Fai.format(LS.siteFormSubmitError));Site.popupBox({htmlContent:c,width:205,height:78})}if(o.needCode)return t.$el.find(".item_ValidateCode_wrap").show(),t.showMsg(o.msg)}}})}}}))}},{key:"openSuccessPopup",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3e3;this.hideMsg();var e=[],n=LS.siteFormSubmitOk;this.options.showForm&&this.options.buddyId&&(n=this.options.siteOpenFormSubmitOk),e.push("<div class='voteSuccessPanel sweet-alert' style='margin-top:20px; height:180px;'>"),e.push("       <div class='sa-icon sa-success animate' style='margin-top:0;'>"),e.push("           <span class='sa-line sa-tip animateSuccessTip'></span>"),e.push("           <span class='sa-line sa-long animateSuccessLong'></span>"),e.push("           <div class='sa-placeholder'></div>"),e.push("           <div class='sa-fix'></div>"),e.push("       </div>"),e.push("       <div class='voteSuccessTitle'>"+n+"</div>"),e.push("</div>"),Site.popupBox({htmlContent:e.join(""),width:367,height:225,autoClose:t}),$(".formBox").css("position","fixed").css("top","50%").css("marginTop","-112px").css("left","50%").css("marginLeft","-180px")}},{key:"handleSubmitSuccess",value:function(){var t=this;this.openSuccessPopup(),setTimeout((function(){var e=t.options.jumpToUrl,n=e.includes("Site.fileDownload");location.href=e||"",n&&setTimeout((function(){document.location.reload()}),1e3)}),3e3)}},{key:"handleOnLinePay",value:function(t){var e=this,n=t.id,i={cmd:"getWafNotCk_getNativePayUrl",formId:this.options.formId,siteFormSubmitId:n};$.ajax({type:"post",url:Site.addRequestPrefix({newPath:"/ajax/siteForm_h.jsp",oldPath:Site.genAjaxUrl("siteForm_h.jsp")}),data:i,error:function(){var t=Site.getDialogContent(!1,Fai.format(LS.siteFormSubmitError));Site.popupBox({htmlContent:t,width:205,height:78})},success:function(t){var i=JSON.parse(t);if(i.success&&17==i.payMode)Site.logDog(201217,6),e.showQrcode(i.url),e.payTimer=setInterval(e.checkPayStatus(n),1e3);else{var o=Site.getDialogContent(!1,Fai.format(LS.siteFormSubmitError));Site.popupBox({htmlContent:o,width:205,height:78})}}})}},{key:"handleOnlinePayVer2",value:function(t){var e=this,n=t.id;Site.payUtils.openSitePay({closeFunc:function(){e.hideMsg()},handleOnlinePayUrl:function(t){var i=t.payMode;e.getOnlinePayUrl({submitId:n,payMode:i})}})}},{key:"handleWxPay",value:function(t,e,n){var i=this;Site.payUtils.showWeChatPay({url:e.url,payMode:n,closeFunc:function(){Site.logDog(201217,7),clearInterval(i.payTimer),i.hideMsg()}}),this.payTimer=setInterval(this.checkPayStatus(t),1e3)}},{key:"handleAliPay",value:function(t,e){var n=Fai.decodeHtml(e.payForm),i=Site.payUtils.BSSTYPE_FORM,o=t,r=Fai.top.location,a=r.search;""!=this.options.jumpToUrl&&(window.sessionStorage.setItem("jumpToUrl",this.options.jumpToUrl),a=""==a?"?jumpFormId="+t:a+"&jumpFormId="+t);var s=Site.LocalStore.get("_lotteryId"),l=Site.LocalStore.get("_phoneNumber");s&&(""==a?a="?lotteryId=".concat(s,"&phoneNumber=").concat(l):a+="&lotteryId=".concat(s,"&phoneNumber=").concat(l));var u=r.pathname.split("/"),c="/"+u[u.length-1]+a+r.hash;Site.payUtils.showAliPay({bssType:i,bssId:o,payForm:n,url:c})}},{key:"getOnlinePayUrl",value:function(t){var e=t.submitId,n=t.payMode,i={cmd:"getWafNotCk_getNativePayUrl",formId:this.options.formId,siteFormSubmitId:e,payMode:n},o=this;$.ajax({type:"post",url:Site.addRequestPrefix({newPath:"/ajax/siteForm_h.jsp",oldPath:Site.genAjaxUrl("siteForm_h.jsp")}),data:i,error:function(){var t=Site.getDialogContent(!1,Fai.format(LS.siteFormSubmitError));Site.popupBox({htmlContent:t,width:205,height:78})},success:function(t){var i=jQuery.parseJSON(t);if(i.success)n==Site.payUtils.PAYMODE_WECHAT||n==Site.payUtils.PAYMODE_FAI_WECHAT?o.handleWxPay(e,i,n):n==Site.payUtils.PAYMODE_ALIPAY&&o.handleAliPay(e,i),Site.logDog(201217,6);else{var r=Fai.format(LS.siteFormSubmitError);""!=i.errMsg&&null!=i.errMsg&&(r=i.errMsg),Site.AlertWarmTip({tip:r}),o.hideMsg()}}})}},{key:"checkLottery",value:function(){var t=this;if(this.module.lotteryOpen&&this.module.allowLottery){$(".popupZoneAreaClose").click();var e=this.options.phoneNumber,n=this.module.lotteryId,i=Fai.top.location.search.includes("?")?Fai.top.location.href+"&lotteryId=".concat(n,"&phoneNumber=").concat(e):Fai.top.location.href+"?lotteryId=".concat(n,"&phoneNumber=").concat(e),o="login.jsp?url=".concat(Fai.encodeUrl(i));if(n){var r=0==this.options.buddyId;this.openSuccessPopup(2e3),setTimeout((function(){Site.getLotteryInfo(n,e,r?o:null,true),t.hideMsg()}),2e3)}else this.handleSubmitSuccess()}else this.handleSubmitSuccess()}},{key:"checkPayStatus",value:function(t){var e=this;return function(){var n={cmd:"wafNotCk_checkSiteFormSubmitStatue",siteFormSubmitId:t};$.ajax({type:"post",url:Site.genAjaxUrl("siteForm_h.jsp"),data:n,error:function(){Fai.top.ing("网络错误")},success:function(t){JSON.parse(t).success&&(Site.logDog(201217,8),clearInterval(e.payTimer),Fai.top.$("html").css("overflow",""),Fai.top.$("#formPayCodeBox").remove(),e.hideMsg(),e.checkLottery())}})}}},{key:"showQrcode",value:function(t,e){var n=this,i="";i=e==Site.payUtils.PAYMODE_FAI_WECHAT?t:"/qrCode.jsp?cmd=wxPayQrCode&&url=".concat(t);var o='\n\t\t\t<div id="formPayCodeBox" class="site_form_pay_wrap">\n\t\t\t\t<div class="form_pay_qrcode" style="width: '.concat(860,"px; height: ").concat(550,'px;">\n\t\t\t\t\t<div class="form_pay_qrcode_top">\n\t\t\t\t\t\t<div id="siteFormClosePay" class="site_form_close"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="wxpay_content">\n\t\t\t\t\t\t<div class="wxpay_QrCode_box">\n\t\t\t\t\t\t\t<p class="wxpay_QrCode_title">微信支付</p>\n\t\t\t\t\t\t\t<div class="wxpay_QrCode_imgBox">\n\t\t\t\t\t\t\t\t<img class="wxpay_QrCode_img" src="').concat(i,'">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="wxpay_QrCode_tipBox">\n\t\t\t\t\t\t\t\t<div class="wxpay_QrCode_tipImg"></div>\n\t\t\t\t\t\t\t\t<div class="wxpayQrCodeText">\n\t\t\t\t\t\t\t\t\t请使用微信扫一扫<br>扫描二维码支付\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="wx_guard_img"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t');Fai.top.$(o).appendTo("body"),Fai.top.$("html").css("overflow","hidden"),Fai.top.$("#siteFormClosePay").click((function(){Site.logDog(201217,7),Fai.top.$("html").css("overflow",""),Fai.top.$("#formPayCodeBox").remove(),clearInterval(n.payTimer),n.hideMsg()}))}},{key:"formItemTypeNameArr",get:function(){return["单行文本","多行文本","单选按钮","多选按钮","下拉选项","文本说明","日期选项","文件上传","手机号","邮箱验证","身份验证","省市县区"]}}]),SiteFormModule}(SiteModule)}).call(this,__webpack_require__(10)(module))},527:function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(c,t);var e,n,l,u=s(c);function c(){return o(this,c),u.apply(this,arguments)}return e=c,(n=[{key:"init",value:function(){var t=this;this.initData();var e=this.isBaiduMap?this.BAI_DU_SCRIPT:this.GOOGLE_SCRIPT,n=Site.checkScriptLoad(e);c.onlineMapCallBackStack&&c.onlineMapCallBackStack.push((function(){return t.initMapJs()})),this.isBaiduMap?$("#onlineMapApi").length?Site.checkScriptLoad("".concat(this.BAI_DU_SCRIPT,"&callback=onlineMapCallBack"))&&c.finishCallBack&&this.initMapJs():this.asyncLoadBaiduScript("onlineMapCallBack"):n?this.initMapJs():$(window).load((function(){Site.demandLoadJs(e,(function(){return t.initMapJs()}))}))}},{key:"asyncLoadBaiduScript",value:function(t){var e=document.createElement("script"),n="".concat(this.BAI_DU_SCRIPT,"&callback=").concat(t);e.src=n,e.id="onlineMapApi",e.charset="utf-8",document.body.appendChild(e)}},{key:"getMapBdPos",value:function(){return this.module.prop1}},{key:"getMapInfo",value:function(){return this.module.prop3}},{key:"getType",value:function(){return this.module.prop4}},{key:"getMapGooglePos",value:function(){return this.module.prop5}},{key:"getMultiAddress",value:function(){return this.module.blob0.multiAddress}},{key:"getBdStyle",value:function(){return this.module.blob0.bds}},{key:"initData",value:function(){this.BAI_DU_SCRIPT="https://api.map.baidu.com/api?v=2.0&ak=BPPrdn0rN6iz2l1o97PohYt2Q7aOT9lW",this.GOOGLE_SCRIPT="https://maps.googleapis.com/maps/api/js?key=AIzaSyAPCtjvzxk3LKfIlLG164mw2jD-Slt3gK8&language=en-US",this.BAI_DU_TYPE=1,this.GOOGLE_TYPE=2,this.isBaiduMap=(void 0===this.getType()?1:this.getType())==this.BAI_DU_TYPE,this.baiduContainerId=this.options.baiduContainerId||"baidu_map_"+this.moduleId,this.googleContainerId=this.options.googleContainerId||"google_map_"+this.moduleId}},{key:"initMapJs",value:function(){this.isBaiduMap?(c.ComplexCustomOverlay||(c.ComplexCustomOverlay=this.addComplexCustomOverlay()),this.initBaiDuMap(),this.initVisitModeEvent()):this.googleMapInitial()}},{key:"initBaiDuMap",value:function(){var t,e=this.baiduContainerId,n=(this.getMapBdPos(),this.getMapInfo(),this.getMultiAddress()),i=this.getBdStyle(),o=this;(t=this.map=new BMap.Map(e)).enablePinchToZoom(),t.enableDoubleClickZoom(),Fai.top._manageMode||t.enableScrollWheelZoom(!0);var r=new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_RIGHT});t.addControl(r),this.refreshMarker(),1!=i?o.fixAddEventListener(t,"tilesloaded",(function a(){var e=$("#"+o.baiduContainerId),i=e.find(".map_msg_box"),r=i.offset(),s=e.offset();if(s.top-r.top>=18||s.left-r.left>=18||s.left+e.width()+18<r.left+i.innerWidth()){var l,u,c,f=[];n.forEach((function(t){f.push(new BMap.Point(t.x,t.y))})),u=(l=t.getViewport(f)).zoom,c=l.center,t.centerAndZoom(c,u-1)}t.removeEventListener("tilesloaded",a)})):o.fixAddEventListener(t,"tilesloaded",(function s(){var e,n,i,r,a=$("#module"+o.moduleId),l=a.find(".multi_panel"),u=a.find(".map_msg_box");l.length<1||u.length<1||(e=u.offset(),n=l.offset(),i=l.width(),(r=n.left+i-e.left)>0&&o.map.panBy(r,0,{noAnimation:"none"}),t.removeEventListener("tilesloaded",s))}))}},{key:"refreshMarker",value:function(t,e,n){var i,o,r,a=this.baiduContainerId,s=(t||this.getMapBdPos(),e||this.getMapInfo(),this.getBdStyle()),l=this.getMultiAddress(),u=1==s,f=l.length>1&&!u,d={anchor:new BMap.Size(10,25)},h=this;(i=this.map).clearOverlays(),o=new BMap.Point(l[0].x,l[0].y);for(var p=[],m=[],g=0;g<l.length;g++){var v,y,b,_=new BMap.Point(l[g].x,l[g].y);if(u&&g>0)break;m.push(_),f&&(d.imageOffset=new BMap.Size(-5-34*g,-4)),v=new BMap.Icon(Fai.top._resRoot+"/image/onlineMap/"+(f?"multi_icon":"multi_only")+".png?v=201809101152",new BMap.Size(24,29),d),y=new BMap.Marker(_,{icon:v});var w="";l[g].an&&(w+='<div class="address_name">'+Fai.encodeHtml(l[g].an)+"</div>"),l[g].da&&(w+='<div class="address_detail address_other_word">'+Fai.encodeHtml(l[g].da)+"</div>"),l[g].oi&&(w+='<div class="address_other_info address_other_word">'+Fai.encodeHtml(l[g].oi)+"</div>"),p[g]=b=new c.ComplexCustomOverlay({point:_,content:'<div class="map_msg_box__msg">'+w+"</div>",boxClass:"map_msg_box J_msg_box__"+g,arrowClass:"map_msg_box__arrow",zIndex:1,offset:{x:0,y:-35}}),i.addOverlay(y),0==g&&i.addOverlay(b),function(t,e,n,o){h.fixAddEventListener(n,"click",(function(r){p.forEach((function(e,n){n!=t&&i.removeOverlay(e)})),i.addOverlay(e),i.addOverlay(n),i.panTo(o)}))}(g,b,y,_)}if(h.fixAddEventListener(i,"resize",(function(){k()})),r=$("#"+a),this.initMapEvent(i,r,void 0,o,void 0),l.length>1&&!u)this.setZoom(m,i);else{var S=new BMap.Point(l[0].x,l[0].y);i.centerAndZoom(S,l[0].z)}function k(){var t,e,n,o,r,a,s=$("#"+h.baiduContainerId),u=[];if(1!==h.getBdStyle())l.forEach((function(t){u.push(new BMap.Point(t.x,t.y))})),a=(o=i.getViewport(u)).center,r=o.zoom,i.centerAndZoom(a,r);else{u.push(new BMap.Point(l[0].x,l[0].y)),a=(o=i.getViewport(u)).center,r=o.zoom,i.centerAndZoom(a,r),e=(t=s.find(".map_msg_box")).offset();var c=s.parent().find(".multi_panel"),f=c.offset(),d=c.width(),p=f.left+d-e.left;p>0&&h.map.panBy(p,0,{noAnimation:"none"})}e=(t=s.find(".map_msg_box")).offset(),((n=s.offset()).top-e.top>=18||n.left-e.left>=18||n.left+s.width()+18<e.left+t.innerWidth())&&i.centerAndZoom(a,r-1),i.removeEventListener("tilesloaded",k)}n&&n.fixMsgZoom&&h.fixAddEventListener(i,"tilesloaded",k)}},{key:"initVisitModeEvent",value:function(){if(!Fai.top._manageMode&&1==this.getType()){var t=$("#module"+this.moduleId).find(".multi_panel"),e=1==this.getBdStyle(),n=this.getMultiAddress(),i=this;t.off("click.panel",".multi__item"),e&&t.on("click.panel",".multi__item",(function(t){var e=$(this).attr("index");i.moveToThisPoint(n[parseInt(e)]),$(this).addClass("multi_item__select").siblings(".multi_item__select").removeClass("multi_item__select")}))}}},{key:"moveToThisPoint",value:function(t){var e,n,i,o,r=new BMap.Point(t.x,t.y);this.baiduContainerId,(e=this.map).clearOverlays(),n=new BMap.Icon(Fai.top._resRoot+"/image/onlineMap/multi_only.png?v=201809101152",new BMap.Size(24,29),{anchor:new BMap.Size(10,25)}),i=new BMap.Marker(r,{icon:n});var a="";t.an&&(a+='<div class="address_name">'+Fai.encodeHtml(t.an)+"</div>"),t.da&&(a+='<div class="address_detail address_other_word">'+Fai.encodeHtml(t.da)+"</div>"),t.oi&&(a+='<div class="address_other_info address_other_word">'+Fai.encodeHtml(t.oi)+"</div>"),o=new c.ComplexCustomOverlay({point:r,content:'<div class="map_msg_box__msg">'+a+"</div>",boxClass:"map_msg_box",arrowClass:"map_msg_box__arrow",zIndex:1,offset:{x:0,y:-35}}),e.addOverlay(i),e.addOverlay(o),e.panTo(r,{noAnimation:"none"}),this.setZoom([r],e,e.getZoom());var s,l,u,f,d=$("#module"+this.moduleId),h=d.find(".multi_panel"),p=d.find(".map_msg_box");h.length<1||p.length<1||(s=p.offset(),l=h.offset(),u=h.width(),(f=l.left+u-s.left)>0&&this.map.panBy(f,0,{noAnimation:"none"}))}},{key:"setZoom",value:function(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:-1,i=e.getViewport(t),o=i.zoom,r=i.center;e.centerAndZoom(r,n>0?n:o)}},{key:"updataGoogleInfo",value:function(t,e,n){try{var i=e||this.getMapInfo(),o=new google.maps.LatLng(t.x,t.y);this.g_infoWin.close(this.googleMap,this.marker),this.g_infoWin=new google.maps.InfoWindow({content:Fai.encodeHtml(i),width:"auto",height:"auto"}),this.g_infoWin.open(this.googleMap,this.marker),this.marker.setPosition(o)}catch(r){}}},{key:"googleMapInitial",value:function(){var t,e,n,i,o,r,a,s=this.googleContainerId,l=document.getElementById(s),u=this.getMapGooglePos(),c=this.getMapInfo(),f=u.x,d=u.y,h=window.google;h&&h.maps&&h.maps.LatLng?(i=new google.maps.LatLng(f,d),o=new google.maps.LatLng(f,d),r={draggable:!0,zoom:u.z,streetViewControl:!1,center:i,scaleControl:!0,mapTypeId:google.maps.MapTypeId.ROADMAP},this.googleMap=t=new google.maps.Map(l,r),a={map:t,position:o,animation:google.maps.Animation.DROP,draggable:!0},this.marker=e=new google.maps.Marker(a),e.setMap(t),this.g_infoWin=n=new google.maps.InfoWindow({content:Fai.encodeHtml(c),width:"auto",height:"auto"}),n.open(t,e),this.initGoogleMapEvent($(l)),Site.logJZFdp("jz_google_maps",{jz_content_terminal:"site",free_bool_1:!1})):Root.Message.warning("当前谷歌地图在中国区已经被屏蔽",!0)}},{key:"doGoogleSearch",value:function(t,e){var n=this.googleMap,i=this.marker,o=(i.getPosition(),n.getCenter(),e.p),r=e.a,a=new google.maps.Geocoder,s=o+r;a.geocode({address:s},(function(t,e){if(e==google.maps.GeocoderStatus.OK){var o=(t=t[0]).geometry.viewport;n.fitBounds(o),i.setPosition(t.geometry.location),i.setTitle(r)}}))}},{key:"centerPoint",value:function(){var t=this.conf.mapPos,e=new BMap.Point(t.x,t.y);this.map.centerAndZoom(e,t.z)}},{key:"initMapEvent",value:function(t,e,n,i,o){var r=this;Fai.top._manageMode&&e.on("mousedown",(function(t){t.stopPropagation()})),r.fixAddEventListener(t,"click",(function(e){e.overlay&&r.fixAddEventListener(e.overlay,"infowindowopen",(function(e){t.removeOverlay(o)}))}))}},{key:"initGoogleMapEvent",value:function(t){Fai.top._manageMode&&t.on("mousedown",(function(t){t.stopPropagation()}))}},{key:"loadMapFailure",value:function(t,e){var n="<div class='mapLoadError'><div class='errormsg'>地图加载失败</div><div class='errName'>"+e+"</div></div>";$("#"+t).html(n)}},{key:"addComplexCustomOverlay",value:function(){var t=this;function e(t){this.point=t.point,this.content=t.content||"",this.zIndex=t.zIndex||1,this.boxClass=t.boxClass||"",this.boxStyle=r(t.boxStyle),this.arrowClass=t.arrowClass||"",this.arrowStyle=r(t.arrowStyle),this.offset=t.offset||{x:0,y:0}}function n(t){if(t.map)try{var e=t.map.pointToOverlayPixel(t.point);t.box.style.left=e.x-parseInt($(t.box).width())/2-(parseInt(o(t.box,"padding-left"))+parseInt(o(t.box,"padding-right")))/2+t.offset.x+"px",t.box.style.bottom=-e.y+parseInt(o(t.arrow,"height"))-t.offset.y+"px",t.arrow.style.left=parseInt($(t.box).width())/2+10+"px"}catch(n){}}function o(t,e){if("undefined"!=typeof getComputedStyle){var n=getComputedStyle(t,null).getPropertyValue(e);return"opacity"==e?100*n:n}if("undefined"!=typeof t.currentStyle)return"opacity"==e?Number(t.currentStyle.getAttribute("filter").match(/(?:opacity[=:])(\d+)/)[1]):t.currentStyle.getAttribute(e)}function r(t){var e="";if("string"==typeof t)e=t;else if("object"==i(t))for(var n in t)e+=n+":"+t[n]+";";return e}return e.prototype=new BMap.Overlay,e.prototype.initialize=function(t){return this.map=t,this.box=document.createElement("div"),this.box.className=this.boxClass,this.box.style.cssText=this.boxStyle,this.box.innerHTML=this.content,this.close=document.createElement("div"),this.close.className="close",this.arrow=document.createElement("div"),this.arrow.className=this.arrowClass,this.arrow.style.cssText=this.arrowStyle,this.box.appendChild(this.arrow),this.box.appendChild(this.close),t.getPanes().labelPane.appendChild(this.box),this.boxWidth=o(this.box,"width"),this.initDefaultEvent(t),this.box},e.prototype.addEventListener=function(e,n){t.fixAddEventListener(this.box,e,n)},e.prototype.initDefaultEvent=function(e){var n=this;t.fixAddEventListener(this,"mousedown",(function(t){t.stopPropagation()})),t.fixAddEventListener(this,"click",(function(t){t.stopPropagation()})),t.fixAddEventListener(this,"touchmove",(function(t){t.stopPropagation()})),t.fixAddEventListener(this,"touchstart",(function(t){-1!=t.target.getAttribute("class").indexOf("close")&&e.removeOverlay(n)})),t.fixAddEventListener(this,"mousedown",(function(t){-1!=t.target.getAttribute("class").indexOf("close")&&e.removeOverlay(n)}))},e.prototype.draw=function(){n(this)},e.prototype.hide=function(){this.box.style.display="none"},e.prototype.reDraw=function(){n(this)},e}},{key:"fixAddEventListener",value:function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent&&t.attachEvent(e,n)}}])&&r(e.prototype,n),l&&r(e,l),c}(n(7));c.onlineMapCallBackStack=[],c.finishCallBack=!1,t.exports=c},528:function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(7),f=n(173);t.exports=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,(n=[{key:"init",value:function(){f.init(this.moduleId)}}])&&r(e.prototype,n),i&&r(e,i),u}(c)},529:function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(7),f=n(173),d=n(530);t.exports=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,i=[{key:"gotoLogin",value:function(t){var e=$(t).attr("href");e||(e="/");var n=encodeURIComponent(window.location.href);window.location.href="".concat(e,"?url=").concat(n)}}],(n=[{key:"init",value:function(){f.init(this.moduleId),new d(this.moduleId)}}])&&r(e.prototype,n),i&&r(e,i),u}(c)},530:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vm=null,this.init(e)}var e,i,o;return e=t,(i=[{key:"init",value:function(t){var e=$("#module"+t).find(".j_previewCustomSearchImg"),n=this;e.length<1||e.off("click.img").on("click.img",(function(t){t.preventDefault(),n.create({$dom:$(this)})}))}},{key:"create",value:function(t){var e=t.$dom.data(),n=e.download,i=e.name,o=e.path,r='\n                <div id=\'j_previewImgPopup\'>\n                    <div class="p_preview_imgwrap">\n                        <img class="p_preview_img" src="'.concat(o,'" :alt="').concat(i,'">\n                        <div class="p_preview_download">').concat(i,'\n                            <a \n                                target="_self" href="').concat(n,'"\n                                class="p_preview_dowanbtn"\n                            >下载</a>\n                            <svg class="p_preview_closebtn j_previewClose">\n                                <use xlink:href="#icon_close2"></use>\n                            </svg>\n                        </div>\n                    </div>\n                </div>\n            '),a=null;$("body").append(r),(a=$("#j_previewImgPopup")).find(".j_previewClose").off("click.close").on("click.close",(function(t){t.preventDefault(),a.remove(),a=null}))}}])&&n(e.prototype,i),o&&n(e,o),t}()},531:function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(7),f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,i=[{key:"isCustomHeight",value:function(t){t instanceof jQuery&&(t=t.attr("_moduleid"));var e=c.find(t);if(e&&e.isCustomHeight)return e.isCustomHeight()}},{key:"setCustomHeight",value:function(t){t instanceof jQuery&&(t=t.attr("_moduleid"));var e=c.find(t);if(e&&e.setCustomHeight)return e.setCustomHeight()}},{key:"setTabPackContentHeight",value:function(t){var e=t.attr("_moduleid"),n=c.find(e);if(n&&n.setTabPackContentHeight)return n.setTabPackContentHeight()}},{key:"isTabYModule",value:function(t){var e=t.attr("_moduleid"),n=c.find(e);if(n&&n.isDirectionY)return n.isDirectionY()}}],(n=[{key:"init",value:function(){var t=this;Fai.top._manageMode?$((function(){return Site.setModuleHeight2(t.moduleId,t.$module.height())})):Site.setModuleHeight2(this.moduleId,this.$module.height());var e=this.$module.find(".title_list"),n=this.$module.find(".tab_list"),i="click.changeTab";e.off(i).on(i,".item",(function(i){var o=e.find(".item"),r=n.find(".item"),a=$(i.currentTarget),s=o.filter(".formTabButtonHover"),l=r.filter(".formTabCntIdHover"),u=r.eq(o.index(a));a.hasClass("formTabButtonHover")||(t.removeActiveClass(s,l),t.addActiveClass(a,u),jzModule.NewsListModule.compatDot(u),t.actionForVideo(l,u),t.triggerModuleAnimation(),t.triggerScroll(),t.resetXPackModuleAutoHeight(),t.isCustomHeight()&&(t.setCustomHeight(),Site.fixSiteWidth(Fai.top._manageMode),Fai.top._manageMode&&(Site.removeMoveFrame("module"+t.moduleId),Site.addMoveFrame("module"+t.moduleId),Site.refreshResizableHandles($("#module"+t.moduleId)))))}));var o="mouseenter.changeTab";e.off(o).on(o,".item",(function(e){t.getTabSwitchWay()||$(e.currentTarget).click()})),this.initGroupPageArrow()}},{key:"isDirectionY",value:function(){return this.getFlag(4)}},{key:"getTabSwitchWay",value:function(){return this.getFlag(8)}},{key:"isCustomHeight",value:function(){return this.getFlag(16)}},{key:"getGroupPageArrow",value:function(){return this.pattern.gpa}},{key:"setCustomHeight",value:function(){var t=this.$module,e=t.find(".formMiddle"),n=t.find(".formMiddleContent"),i=t.find(".formTab"),o=t.find(".formTabContent"),r=t.find(".formTabCntId");t.css("height","auto"),e.css("height",""),n.css("height",""),i.css("height",""),o.css("height",""),r.css("height","")}},{key:"setTabPackContentHeight",value:function(){this.$module.find(".formTabCntId").each((function(){var t=$(this).find(".J_tabPackContent"),e=Site.getModuleAutoHeight(t);t.height(e)}))}},{key:"initGroupPageArrow",value:function(){if(this.isDirectionY()&&1==this.getGroupPageArrow().y){var t=this.getGroupPageArrow().bc;jzModule.TabModule.tabDirectionY.initArrowIfNotEnough(this.moduleId,t)}}},{key:"actionForVideo",value:function(t){for(var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t,n=Array.from(t.find("video:not([autoplay])")),i=0,o=n;i<o.length;i++)video=o[i],video.paused||video.pause();this.bindLazyLoadForVideo(e)}},{key:"bindLazyLoadForVideo",value:function(t){var e=-1;t.find(".formStyle36").each((function(t,n){(e="new-video-".concat($(n).attr("_moduleid")))&&!$("#".concat(e)).attr("src")&&Site.videoLazyLoadBind(e)}))}},{key:"triggerModuleAnimation",value:function(){jzUtils.run({name:"moduleAnimation.publish",base:Fai.top.Site}),jzUtils.run({name:"moduleAnimation.contentAnimationPublish",base:Fai.top.Site})}},{key:"triggerScroll",value:function(){jzUtils.run({name:"triggerScroll",base:Fai.top.Site})}},{key:"addActiveClass",value:function(t,e){t.addClass("formTabButtonHover"),t.find(".formTabLeft").addClass("formTabLeftHover"),t.find(".formTabMiddle").addClass("formTabMiddleHover"),t.find(".formTabRight").addClass("formTabRightHover"),e.addClass("formTabCntIdHover")}},{key:"removeActiveClass",value:function(t,e){t.removeClass("formTabButtonHover"),t.find(".formTabLeft").removeClass("formTabLeftHover"),t.find(".formTabMiddle").removeClass("formTabMiddleHover"),t.find(".formTabRight").removeClass("formTabRightHover"),e.removeClass("formTabCntIdHover")}},{key:"fixTabModuleHeight",value:function(){var t=200;this.$el.find(".form").each((function(e,n){var i=$(n),o=parseInt(i.css("top"))||0,r=i.height();o+r>t&&(t=o+r)})),this.$module.css("height","auto"),this.$module.find(".formMiddle"+this.moduleId+", .formMiddleContent").css("height","auto"),this.$module.find("#formTabContent".concat(this.moduleId)).height(t),this.$module.find("#formTab".concat(this.moduleId,".formTabDirectionY .titleTable")).height(t),this.$module.find(".formTabCntId").height(t)}},{key:"getMutationObserverOptions",value:function(){return{callback:this.mutationCallBack.bind(this),filterSelector:""}}},{key:"mutationCallBack",value:function(t){this.isAutoHeight()&&(Fai.top._mutationObLog&&console.log("".concat(this.moduleId,": 旧版标签模块"),t),this.isCustomHeight()?this.setCustomHeight():this.fixTabModuleHeight())}}])&&r(e.prototype,n),i&&r(e,i),u}(c);t.exports=f,function(t,e,n){var i=e.data,o=e.dom,r=e.utils,a=e.event;r.getBaseDom=function(){var t,e,n,o=i.moduleId;if((t=Fai.top.$("#module"+o)).length&&!t.hasClass("jz-moduleTabYPattern113")&&f.isTabYModule(t)&&(n=(e=t.find(".formTabButtonYList")).find(".formTabButton"),e.length&&n.length))return{module:t,formTabButtonYList:e,formTabButton:n}},r.getAllFormTabButtonHeight=function(){var e=o.formTabButton,n=0;return e.each((function(){n+=t(this).outerHeight(!0)})),n},r.checkHeightEnough=function(){var t=i.wrapperHeight,e=i.allFormTabButtonHeight,n=i.formTabButtonLength;return t>e||n<2},r.getOnePageNumForFormTabButton=function(){var t,e=i.wrapperHeight,n=i.arrowHeight,o=i.formTabButtonHeight;return t=(t=e-i.formTabButtonHoverHeight-n)<0?0:t,Math.round(t/o)+1},r.getPageNum=function(){return Math.ceil(i.formTabButtonLength/i.onePageNumForFormTabButton)},a.findOrCreateArrow=function(){var e,n,r=o.formTabButtonYList,a=i.bgColor;return(e=(e=r.find(".J_tabYArrow")).length?e:t((n=[],n.push("<div class='fk-tabYArrow J_tabYArrow'>"),n.push("<div class='f-arrowBox'>"),n.push("<div class='f-arrowBoxTop f-arrowBoxItem J_tabYArrowUp' style='display:none;'>"),n.push("<i class='f-arrow1 f-arrow J_arrowColor'></i>"),n.push("<i class='f-arrow2 f-arrow J_arrowTopBg'></i>"),n.push("</div>"),n.push("<div class='f-arrowBoxBottom f-arrowBoxItem J_tabYArrowDown f-arrowBoxBottomIndex'>"),n.push("<i class='f-arrow1 f-arrow J_arrowColor'></i>"),n.push("<i class='f-arrow2 f-arrow J_arrowBotomBg'></i>"),n.push("</div>"),n.push("</div>"),n.push("</div>"),n.join(""))).appendTo(r)).css("background-color",a),e.find(".J_arrowTopBg").css("border-bottom-color",a),e.find(".J_arrowBotomBg").css("border-top-color",a),e},a.setModuleNewHeight=function(){var t=i.onePageNumForFormTabButton,e=i.formTabButtonHeight,n=i.arrowHeight,r=i.moduleId,a=i.formTabButtonHoverHeight,s=(o.formTabButtonYList,(t-1)*e+a),l=s+n;return o.arrow.css("top",s),Site.setModuleHeight2(r,l),l},a.setPages=function(){for(var t=i.pageNum,e=i.onePageNumForFormTabButton,n=o.formTabButtonYList,r=o.formTabButton,a=0;a<t;a++)for(var s=e*a,l=e*(a+1);s<l;s++)r.eq(s).addClass("tabYPage"+a).data("tabYPage",a);r.hide(),n.find(".tabYPage0").show()},a.bindArrow=function(){var t=i.pageNum,e=o.arrow,n=o.formTabButton,r=o.formTabButtonYList,a=0,s=e.find(".J_tabYArrowUp"),l=e.find(".J_tabYArrowDown");function u(){0==a?s.find(".J_arrowColor").addClass("f-arrowDisable"):s.find(".J_arrowColor").removeClass("f-arrowDisable"),a==t-1?l.find(".J_arrowColor").addClass("f-arrowDisable"):l.find(".J_arrowColor").removeClass("f-arrowDisable")}s.off("click.page").on("click.page",(function(){0!=a&&(a--,u(),n.hide(),r.find(".tabYPage"+a).show().eq(0).click())})),l.off("click.page").on("click.page",(function(){a!=t-1&&(a++,u(),n.hide(),r.find(".tabYPage"+a).show().eq(0).click())})),l.one("click.pageOne",(function(){l.removeClass("f-arrowBoxBottomIndex"),s.show(),u()}))},a.resetDataAndDom=function(){for(var t in i)delete i[t];for(var e in o)delete o[e]},e.initArrowIfNotEnough=function(e,n){return i.moduleId=e,o=t.extend(o,r.getBaseDom()),t.isEmptyObject(o)?a.resetDataAndDom():(i.wrapperHeight=o.module.height(),i.formTabButtonHeight=o.formTabButton.not(".formTabButtonHover").outerHeight(!0),i.formTabButtonLength=o.formTabButton.length,i.allFormTabButtonHeight=r.getAllFormTabButtonHeight(),r.checkHeightEnough()?a.resetDataAndDom():(i.bgColor=n||"#fff",o.arrow=a.findOrCreateArrow(),i.arrowHeight=o.arrow.height(),i.formTabButtonHoverHeight=o.formTabButtonYList.find(".formTabButtonHover").outerHeight(!0),i.onePageNumForFormTabButton=r.getOnePageNumForFormTabButton(),i.pageNum=r.getPageNum(),i.wrapperHeight=a.setModuleNewHeight(),r.checkHeightEnough()?(o.arrow=o.arrow||a.findOrCreateArrow(),o.arrow.remove()):(a.setPages(),a.bindArrow()),void a.resetDataAndDom()))}}(jQuery,f.tabDirectionY||(f.tabDirectionY={data:{},dom:{},utils:{},event:{}}))},532:function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(7),f=n(533),d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,i=[{key:"isCustomHeight",value:function(t){t instanceof jQuery&&(t=t.attr("_moduleid"));var e=c.find(t);if(e&&e.isCustomHeight)return e.isCustomHeight()}},{key:"setCustomHeight",value:function(t){t instanceof jQuery&&(t=t.attr("_moduleid"));var e=c.find(t);if(e&&e.setCustomHeight)return e.setCustomHeight()}},{key:"setTabPackContentHeight",value:function(t){var e=t.attr("_moduleid"),n=c.find(e);if(n&&n.setTabPackContentHeight)return n.setTabPackContentHeight()}},{key:"isTabYModule",value:function(t){var e=t.attr("_moduleid"),n=c.find(e);if(n&&n.isDirectionY)return n.isDirectionY()}}],(n=[{key:"init",value:function(){var t=this;if(this._animate={animating:!1},Fai.top._manageMode?setTimeout((function(){$((function(){return Site.setModuleHeight2(t.moduleId,t.$module.height())}))}),100):Site.setModuleHeight2(this.moduleId,this.$module.height()),!Fai.top._manageMode)switch(this.getStyle()){case 0:this.initDefaultTab();break;case 1:this.initFoldTab();break;case 2:this.initPictureTab()}}},{key:"initFoldTab",value:function(){var t=this,e=this,n=this.$module.find(".m_foldtab"),i="click.changeTab";function o(t,n){var i=t.find(".tab_content");t.removeClass("tab_active"),i.is(":animated")||i.css("height","auto"),i.stop().animate({height:0},{speed:300,step:function(){n||e.resetXPackModuleAutoHeight(!0)},complete:function(){i.css("height",""),e.actionForVideo(i,i.parent().siblings(".tab_active"))}})}n.off(i).on(i,".tab_title",(function(i){var r=n.find(".tab_item").filter(".tab_active"),a=$(i.currentTarget).parent(),s=a.hasClass("tab_active");t.actionForVideo(r),s?o(a):(t.getFoldDisplay()||n.children(".tab_active").each((function(){o($(this),!0)})),function(t){var n=t.find(".tab_content");t.addClass("tab_active"),n.is(":animated")||n.css("height",0),n.stop().animate({height:n.children().height()},{speed:300,step:function(){e.resetXPackModuleAutoHeight(!0)},complete:function(){n.css("height",""),e.triggerModuleAnimation(),e.triggerScroll()}})}(a))}))}},{key:"initDefaultTab",value:function(){var t=this,e=this.$module.find(".title_list"),n=this.$module.find(".tab_list"),i="click.changeTab",o=navigator.userAgent.includes("UBrowser");e.off(i).on(i,".item",(function(i){var r=e.find(".item"),a=n.children(".item"),s=$(i.currentTarget),l=r.filter(".formTabButtonHover"),u=a.filter(".formTabCntIdHover"),c=a.eq(r.index(s));s.hasClass("formTabButtonHover")||(t.toggleAnimation({$currentEl:u,$activeEl:c,currentIdx:u.index(),activeIdx:c.index()}),t.removeActiveClass(l,u),t.addActiveClass(s,c),jzModule.NewsListModule.compatDot(c),t.actionForVideo(u,c),t.enableModuleAnimation(),t.triggerScroll(),t.resetXPackModuleAutoHeight(),o&&jzSite.lazyLoad.forceLoadImages($activeItem),t.isCustomHeight()&&(t.setCustomHeight(),Site.fixSiteWidth(Fai.top._manageMode),Fai.top._manageMode&&(Site.removeMoveFrame("module"+t.moduleId),Site.addMoveFrame("module"+t.moduleId),Site.refreshResizableHandles($("#module"+t.moduleId)))))}));var r="mouseenter.changeTab";e.off(r).on(r,".item",(function(e){t.getTabSwitchWay()||$(e.currentTarget).click()})),this.bindToggleAnimationEndEvent(n,".tab_item")}},{key:"initPictureTab",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=this,n=navigator.userAgent.includes("UBrowser"),i=Object.assign({},{event:this.getTabSwitchWay()?"click":"hover",onTabChanged:function(){var t=e.$module.find(".tab_pane_item--active");jzModule.NewsListModule.compatDot(t),e.triggerModuleAnimation(),e.triggerScroll(),e.bindLazyLoadForVideo(t),n&&jzSite.lazyLoad.forceLoadImages(t)},onBeforeTabChanged:function(){e.toggleAnimation.apply(e,arguments)}},t),o=new f(this.moduleId,i);return this.bindToggleAnimationEndEvent(this.$module.find(".J_site_tabs_pane").eq(0),".J_tab_pane_item"),o}},{key:"getStyle",value:function(){return this.module.prop2}},{key:"isDirectionY",value:function(){return this.getFlag(4)}},{key:"getTabSwitchWay",value:function(){return this.getFlag(8)}},{key:"isCustomHeight",value:function(){return this.getFlag(16)||1==this.getStyle()}},{key:"getFoldDisplay",value:function(){return this.getFlag(32)}},{key:"getGroupPageArrow",value:function(){return this.pattern.gpa}},{key:"setCustomHeight",value:function(){var t=this.$module,e=t.find(".formMiddle"),n=t.find(".formMiddleContent"),i=t.find(".formTab"),o=t.find(".formTabContent"),r=t.find(".formTabCntId"),a=2===this.getStyle();a&&(o=t.find(".J_site_tabs_pane"),r=t.find(".J_tab_pane_item")),t.css("height","auto"),e.css("height",""),n.css("height",""),this.isDirectionY()||a?i.css("height",o.height()):i.css("height",""),o.css("height",""),r.css("height","")}},{key:"setTabPackContentHeight",value:function(){var t=this.$module.find(".J_tabPackContent"),e=this.$module.find(".news_list_wrap"),n=0!==e.length;n&&(this.$module.find(".formTabCntId").css("visibility","initial"),e.addClass("news_list_fix_dot")),t.each((function(){var t=$(this),e=Site.getModuleAutoHeight(t);t.height(e)})),n&&(this.$module.find(".formTabCntId").css("visibility",""),e.removeClass("news_list_fix_dot"))}},{key:"initGroupPageArrow",value:function(){if(this.isDirectionY()){var t=this.getGroupPageArrow().bc;jzModule.TabPackModule.tabDirectionY.initArrowIfNotEnough(this.moduleId,t)}}},{key:"actionForVideo",value:function(t){for(var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t,n=Array.from(t.find("video:not([autoplay])")),i=0,o=n;i<o.length;i++){var r=o[i];r.paused||r.pause()}this.bindLazyLoadForVideo(e)}},{key:"bindLazyLoadForVideo",value:function(t){var e=-1;t.find(".formStyle36").each((function(t,n){(e="new-video-".concat($(n).attr("_moduleid")))&&!$("#".concat(e)).attr("src")&&Site.videoLazyLoadBind(e)}))}},{key:"enableModuleAnimation",value:function(){var t=this.options.enableToggleAnim?300:0;this.triggerModuleAnimation(t)}},{key:"triggerModuleAnimation",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;setTimeout((function(){jzUtils.run({name:"moduleAnimation.publish",base:Fai.top.Site}),jzUtils.run({name:"moduleAnimation.contentAnimationPublish",base:Fai.top.Site})}),t)}},{key:"triggerScroll",value:function(){jzUtils.run({name:"triggerScroll",base:Fai.top.Site})}},{key:"addActiveClass",value:function(t,e){t.addClass("formTabButtonHover"),t.find(".formTabLeft").addClass("formTabLeftHover"),t.find(".formTabMiddle").addClass("formTabMiddleHover"),t.find(".formTabRight").addClass("formTabRightHover"),e.addClass("formTabCntIdHover")}},{key:"removeActiveClass",value:function(t,e){t.removeClass("formTabButtonHover"),t.find(".formTabLeft").removeClass("formTabLeftHover"),t.find(".formTabMiddle").removeClass("formTabMiddleHover"),t.find(".formTabRight").removeClass("formTabRightHover"),e.removeClass("formTabCntIdHover")}},{key:"animating",value:function(t){this._animate.animating=t}},{key:"getToggleAnimConfig",value:function(){return{animClass:"tab_anim--anim",animEnterClass:"tab_anim--enter",animLeaveClass:"tab_anim--leave",animReverseClass:"tab_anim--reverse",animEnterToClass:"tab_anim--enter-to",animLeaveToClass:"tab_anim--leave-to"}}},{key:"toggleAnimation",value:function(t){var e=this,n=t.currentIdx,i=t.activeIdx,o=t.$currentEl,r=t.$activeEl;if(this.options.enableToggleAnim&&-1!=n&&!0!==this._animate.animating){this.animating(!0);var a=this.getToggleAnimConfig(),s=a.animClass,l=a.animEnterClass,u=a.animLeaveClass,c=a.animEnterToClass,f=a.animLeaveToClass,d=a.animReverseClass;this.removeAllToggleAnimationClass(o),this.removeAllToggleAnimationClass(r),o.addClass(u),r.addClass(l),i<n&&(o.addClass(d),r.addClass(d)),this.nextFrame((function(){o.addClass(s),r.addClass(s),o.removeClass(c).addClass(f),r.removeClass(f).addClass(c),e.animating(!1)}))}}},{key:"bindToggleAnimationEndEvent",value:function(t,e){var n=this;if(this.options.enableToggleAnim){this.getToggleAnimConfig();var i="".concat("transitionend.toggle webkitTransitionEnd.toggle oTransitionEnd.toggle"," ").concat("animationend.toggle webkitAnimationEnd.toggle oAnimationEnd.toggle");t.off(i).on(i,e,(function(t){n.removeAllToggleAnimationClass($(t.currentTarget))}))}}},{key:"removeAllToggleAnimationClass",value:function(t){var e=this.getToggleAnimConfig(),n=e.animClass,i=e.animEnterClass,o=e.animLeaveClass,r=e.animEnterToClass,a=e.animLeaveToClass,s=e.animReverseClass;t.removeClass([n,i,o,r,a,s].join(" "))}},{key:"nextFrame",value:function(t){var e=window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout;e((function(){e(t)}))}},{key:"getMutationObserverOptions",value:function(){return{callback:this.mutationCallBack.bind(this),filterSelector:""}}},{key:"mutationCallBack",value:function(t){this.isAutoHeight()&&(Fai.top._mutationObLog&&console.log("".concat(this.moduleId,": 新版标签模块"),t),Site.autoTabPackModuleHeight(this.$el))}}])&&r(e.prototype,n),i&&r(e,i),u}(c);t.exports=d,function(t,e,n){var i=e.data,o=e.dom,r=e.utils,a=e.event;r.getBaseDom=function(){var t,e,n,o=i.moduleId;if((t=Fai.top.$("#module"+o)).length&&!t.hasClass("jz-moduleTabYPattern113")&&d.isTabYModule(t)&&(n=(e=t.find(".formTabButtonYList")).find(".formTabButton"),e.length&&n.length))return{module:t,formTabButtonYList:e,formTabButton:n}},r.getAllFormTabButtonHeight=function(){var e=o.formTabButton,n=0;return e.each((function(){n+=t(this).outerHeight(!0)})),n},r.checkHeightEnough=function(){var t=i.wrapperHeight,e=i.allFormTabButtonHeight,n=i.formTabButtonLength;return t>e||n<2},r.getOnePageNumForFormTabButton=function(){var t,e=i.wrapperHeight,n=i.arrowHeight,o=i.formTabButtonHeight;return t=(t=e-i.formTabButtonHoverHeight-n)<0?0:t,Math.round(t/o)+1},r.getPageNum=function(){return Math.ceil(i.formTabButtonLength/i.onePageNumForFormTabButton)},a.findOrCreateArrow=function(){var e,n,r=o.formTabButtonYList,a=i.bgColor;return(e=(e=r.find(".J_tabYArrow")).length?e:t((n=[],n.push("<div class='fk-tabYArrow J_tabYArrow'>"),n.push("<div class='f-arrowBox'>"),n.push("<div class='f-arrowBoxTop f-arrowBoxItem J_tabYArrowUp' style='display:none;'>"),n.push("<i class='f-arrow1 f-arrow J_arrowColor'></i>"),n.push("<i class='f-arrow2 f-arrow J_arrowTopBg'></i>"),n.push("</div>"),n.push("<div class='f-arrowBoxBottom f-arrowBoxItem J_tabYArrowDown f-arrowBoxBottomIndex'>"),n.push("<i class='f-arrow1 f-arrow J_arrowColor'></i>"),n.push("<i class='f-arrow2 f-arrow J_arrowBotomBg'></i>"),n.push("</div>"),n.push("</div>"),n.push("</div>"),n.join(""))).appendTo(r)).css("background-color",a),e.find(".J_arrowTopBg").css("border-bottom-color",a),e.find(".J_arrowBotomBg").css("border-top-color",a),e},a.setModuleNewHeight=function(){var t=i.onePageNumForFormTabButton,e=i.formTabButtonHeight,n=i.arrowHeight,r=i.moduleId,a=i.formTabButtonHoverHeight,s=(o.formTabButtonYList,(t-1)*e+a),l=s+n;return o.arrow.css("top",s),Site.setModuleHeight2(r,l),l},a.setPages=function(){for(var t=i.pageNum,e=i.onePageNumForFormTabButton,n=o.formTabButtonYList,r=o.formTabButton,a=0;a<t;a++)for(var s=e*a,l=e*(a+1);s<l;s++)r.eq(s).addClass("tabYPage"+a).data("tabYPage",a);r.hide(),n.find(".tabYPage0").show()},a.bindArrow=function(){var t=i.pageNum,e=o.arrow,n=o.formTabButton,r=o.formTabButtonYList,a=0,s=e.find(".J_tabYArrowUp"),l=e.find(".J_tabYArrowDown");function u(){0==a?s.find(".J_arrowColor").addClass("f-arrowDisable"):s.find(".J_arrowColor").removeClass("f-arrowDisable"),a==t-1?l.find(".J_arrowColor").addClass("f-arrowDisable"):l.find(".J_arrowColor").removeClass("f-arrowDisable")}s.off("click.page").on("click.page",(function(){0!=a&&(a--,u(),n.hide(),r.find(".tabYPage"+a).show().eq(0).click())})),l.off("click.page").on("click.page",(function(){a!=t-1&&(a++,u(),n.hide(),r.find(".tabYPage"+a).show().eq(0).click())})),l.one("click.pageOne",(function(){l.removeClass("f-arrowBoxBottomIndex"),s.show(),u()}))},a.resetDataAndDom=function(){for(var t in i)delete i[t];for(var e in o)delete o[e]},e.initArrowIfNotEnough=function(e,n){return i.moduleId=e,o=t.extend(o,r.getBaseDom()),t.isEmptyObject(o)?a.resetDataAndDom():(i.wrapperHeight=o.module.height(),i.formTabButtonHeight=o.formTabButton.not(".formTabButtonHover").outerHeight(!0),i.formTabButtonLength=o.formTabButton.length,i.allFormTabButtonHeight=r.getAllFormTabButtonHeight(),r.checkHeightEnough()?a.resetDataAndDom():(i.bgColor=n||"#fff",o.arrow=a.findOrCreateArrow(),i.arrowHeight=o.arrow.height(),i.formTabButtonHoverHeight=o.formTabButtonYList.find(".formTabButtonHover").outerHeight(!0),i.onePageNumForFormTabButton=r.getOnePageNumForFormTabButton(),i.pageNum=r.getPageNum(),i.wrapperHeight=a.setModuleNewHeight(),r.checkHeightEnough()?(o.arrow=o.arrow||a.findOrCreateArrow(),o.arrow.remove()):(a.setPages(),a.bindArrow()),void a.resetDataAndDom()))}}(jQuery,d.tabDirectionY||(d.tabDirectionY={data:{},dom:{},utils:{},event:{}}))},533:function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(c,t);var e,n,i,l=s(c);function c(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(n=l.call(this,t,e)).isVerticalTab=!1,n.init(),n}return e=c,(n=[{key:"init",value:function(){this.updateTabDirection()}},{key:"updateTabDirection",value:function(){var t=Fai.top.$("#module".concat(this.moduleId," .J_site_tabs_nav")).css("float");this.isVerticalTab=-1!==["left","right"].indexOf(t),this.addTabDirectionClass()}},{key:"addTabDirectionClass",value:function(){var t=this.isVerticalTab?"vertical":"horizonal";Fai.top.$("#module".concat(this.moduleId," .J_site_tabs_nav")).removeClass("jz_tabs_direction--vertical jz_tabs_direction--horizonal").addClass("jz_tabs_direction--".concat(t))}},{key:"update",value:function(t){r(u(c.prototype),"update",this).call(this,t),this.updateTabDirection()}}])&&o(e.prototype,n),i&&o(e,i),c}(n(534).SiteTabs);t.exports=c},534:function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function t(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};n(this,t),this.moduleId=e,this.$module=Fai.top.$("#module".concat(e)),this._config=i,this._cache={},this._init()}var e,o,r;return e=t,(o=[{key:"setConfig",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Object.keys(e).forEach((function(n){t._config[n]=e[n]}))}},{key:"setCache",value:function(t,e){return this._cache[t]=e}},{key:"getCache",value:function(t){return this._cache[t]?this._cache[t]:null}},{key:"_init",value:function(){this.selectTabByIndex(this.config.initialIndex),this._bindEvents()}},{key:"_bindEvents",value:function(){var t=this.getTabInfo().$tabNav;switch(this.config.event){case"click":this.bindClickEvent(t);break;case"hover":this.bindHoverEvent(t);break;default:this.bindClickEvent(t)}t.removeClass("tab_nav_event--hover tab_nav_event--click").addClass("tab_nav_event--".concat(this.config.event))}},{key:"bindClickEvent",value:function(t){var e=this,n="click.changeTab";t.off(n).on(n,".J_tab_nav_item",(function(t){e.selectTabByIndex($(t.currentTarget).index())}))}},{key:"bindHoverEvent",value:function(t){var e=this,n="mouseenter.changeTab";t.off(n).on(n,".J_tab_nav_item",(function(t){e.selectTabByIndex($(t.currentTarget).index())}))}},{key:"_unbindEvents",value:function(){this.getTabInfo().$tabNav.off("click.changeTab").off("mouseenter.changeTab")}},{key:"update",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.setConfig(t),this._unbindEvents(),this._init()}},{key:"selectTabByIndex",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,e=this.getTabInfo(),n=e.$tabNavItems,i=e.$tabPaneItems;this.handleChangeTab(n,i,t)}},{key:"getTabInfo",value:function(){var t=this.getCache("$tabNav")?this.getCache("$tabNav"):this.setCache("$tabNav",this.$module.find(".J_site_tabs_nav").eq(0)),e=this.getCache("$tabPane")?this.getCache("$tabPane"):this.setCache("$tabPane",this.$module.find(".J_site_tabs_pane").eq(0));return{$tabNav:t,$tabPane:e,$tabNavItems:t.find(".J_tab_nav_item"),$tabPaneItems:e.find(".J_tab_pane_item")}}},{key:"handleChangeTab",value:function(t,e,n){var i=e.filter(".J_tab_pane_item--active"),o=e.eq(n),r=i.index();r!=n&&("function"==typeof this.config.onBeforeTabChanged&&this.config.onBeforeTabChanged.call(this,{$currentEl:i,$activeEl:o,currentIdx:r,activeIdx:n}),this.toggleActive(t,e,n),"function"==typeof this.config.onTabChanged&&this.config.onTabChanged.call(this))}},{key:"toggleActive",value:function(t,e,n){var i="".concat(this.config.navItemActiveClass," J_tab_nav_item--active"),o="".concat(this.config.paneItemActiveClass," J_tab_pane_item--active");e.removeClass(o).eq(n).addClass(o),t.removeClass(i).eq(n).addClass(i)}},{key:"config",get:function(){return Object.assign({},this.defaultConfig,this._config)}},{key:"defaultConfig",get:function(){return{navItemActiveClass:"tab_nav_item--active",paneItemActiveClass:"tab_pane_item--active",event:"click",initialIndex:0}}}])&&i(e.prototype,o),r&&i(e,r),t}();t.exports={SiteTabs:o}},535:function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(7);t.exports=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,i=[{key:"compatDot",value:function(t){t.find(".news_list_wrap").length&&(t.find(".news_list_wrap").addClass("news_list_fix_dot"),setTimeout((function(){t.find(".news_list_wrap").removeClass("news_list_fix_dot")})))}},{key:"questionnaire",value:function(){var t=Boolean($.cookie("_notShowNewsScore",{expires:7,path:"/"}));Fai.top._canNewsScore&&!t&&Fai.top.initQuestionnaire({scoreText:"你刚使用的编辑文章列表的面板正在内测版中， 你认为内测版的使用体验如何？",feedbackText:{good:"对目前编辑器有什么使用体验的反馈吗？",bad:"是哪些操作或设计让你觉得不好用呢？"},onSubmit:function(t){var e=t.score,n=t.advice,i={score:e};n.length&&(i.advice=n),$.ajax({type:"post",url:Site.genAjaxUrl("feedback_h.jsp?cmd=addNewsScore"),data:i,success:function(t){if((t=$.parseJSON(t)).success){$.cookie("_notShowNewsScore",!0,{expires:7,path:"/"});var e=(new Vue).$createDialog({content:"提交成功，感谢你的参与",icon:"success"});setTimeout((function(){e.close()}),1500)}else Fai.ing("系统错误",!0)}})},onclose:function(){$.cookie("_notShowNewsScore",!0,{expires:7,path:"/"})}})}}],(n=[{key:"init",value:function(){this.lock=!1,this.editPanelLock=!1,this.carouselLock=!1,this.scrollTarget=null,this.scrollCount=0,this.newsSetting=this.module.blob0,this.speedList=[1500,1100,850],this.autoWrap=this.module.autoWrap,this.contentAnimationCount=0,this.haveAnimation=!1,this.setIeClass(),this.compatIEDot(),this.compatIESummaryDot(),this.initEvent()}},{key:"initEvent",value:function(){var t=this;4==this.newsSetting.selectStyle&&(this.bindSliderEvent(),this.bindArrowEvent()),this.bindNewsWrapEvent(),setTimeout((function(){t.haveContentAnimate(),t.newsScroll()}),200)}},{key:"isCanScroll",value:function(){var t=this.newsSetting.selectStyle,e=this.newsSetting.headlineStyle;return!!this.module.openScroll&&3!=t&&4!=t&&(6!=t||0==e)}},{key:"bindSliderEvent",value:function(){var t=this;this.$el.find(".m_news_wrap").on("mouseleave",(function(e){4==t.newsSetting.selectStyle&&$(".slider_arrow").removeClass("slider_arrow")})),this.$el.find(".m_news_wrap").on("mouseover",(function(e){if(4==t.newsSetting.selectStyle){var n=t.$el.find(".m_news_4"),i=t.$el.find(".m_news_4 .m_news_list");if(!(n.width()>=i.width())){var o=$(e.target),r=o.hasClass("m_news_area"),a=o.parent().hasClass("m_news_area"),s=o.parents(".m_news_area");r?o.addClass("slider_arrow"):a?o.parent().addClass("slider_arrow"):s.length&&s.addClass("slider_arrow")}}}))}},{key:"bindArrowEvent",value:function(){var t=this;this.$el.find(".m_news_arrow").on("click",(function(e){e.stopPropagation(),4==t.newsSetting.selectStyle&&($(e.target),t.carousel($(this)))}))}},{key:"carousel",value:function(t){if(!this.carouselLock){var e=this;this.carouselLock=!0;var n=t.hasClass("news_left_arrow")?1:0,i=this.$el.find(".m_news_4").width(),o=this.$el.find(".m_col_line").outerWidth(!0),r=this.$el.find(".m_news_4 .m_news_list"),a=r.width(),s=parseInt(r.css("left"));n||(i=0-i,o=0-o);var l=s+i+o;n&&0==s||Math.abs(l)>=a?this.carouselLock=!1:(l>0?l=0:Math.abs(i)+Math.abs(l)>a&&(l=-(a-Math.abs(i))),r.animate({left:"".concat(l,"px")},800,(function(){e.carouselLock=!1})))}}},{key:"bindNewsWrapEvent",value:function(){var t=this;this.$el.on("mouseover.lock",(function(e){$(e.target).parents("#module".concat(t.options.id)).length&&(t.lock=!0)})).on("mouseleave.unlock",(function(){t.lock=!1,clearTimeout(t.timer),t.timer=setTimeout((function(){t.scrollCount||t.newsScroll()}),1e3)}))}},{key:"haveContentAnimate",value:function(){var t=this;if("undefined"==typeof _moduleListForContent)return!1;this.haveAnimation=_moduleListForContent.some((function(e){return e.moduleId==t.moduleId}))}},{key:"newsScroll",value:function(){this.lock||this.editPanelLock||!this.isCanScroll()||this.haveAnimation||(this.scrollCount=!0,this.newsSetting.colCount?this.mutiScroll():this.singleScroll())}},{key:"singleScroll",value:function(){var t=this.newsSetting.paddingStyle?".m_news_content-compact":".m_news_content";if(this.scrollTarget=this.$el.find(".m_news_list"),this.newsSetting.scrollDir){var e=this.scrollTarget.find("".concat(t,":last")),n=e.prev(),i=n.find(".m_row_line"),o=e.outerHeight(!0);2!==this.newsSetting.selectStyle&&(o+=i.outerHeight(!0)),this.newsAnimate(o,e,n)}else{var r=this.scrollTarget.find("".concat(t,":first")),a=r.next(),s=a.find(".m_row_line"),l=r.outerHeight(!0)+s.outerHeight(!0);this.newsAnimate(-l,r,a)}}},{key:"mutiScroll",value:function(){if(this.scrollTarget=this.$el.find(".m_news_wrap"),this.newsSetting.scrollDir){var t=this.scrollTarget.find(".m_row_class:last"),e=t.outerHeight(!0);this.newsAnimate(e,t)}else{var n=this.scrollTarget.find(".m_row_class:first"),i=n.nextAll(".m_row_class").find(".m_row_line"),o=n.outerHeight(!0)+i.outerHeight(!0);this.newsAnimate(-o,n)}}},{key:"newsAnimate",value:function(t,e,n){var i=this;new Promise((function(e,n){i.scrollTarget.animate({top:t+"px"},i.speedList[i.newsSetting.scrollSpeed],(function(){e()}))})).then((function(){e.hide(),i.scrollTarget.css("top",0),i.newsSetting.colCount||(i.newsSetting.scrollDir?n.prependTo(i.scrollTarget):n.appendTo(i.scrollTarget)),i.newsSetting.scrollDir?e.prependTo(i.scrollTarget):e.appendTo(i.scrollTarget),e.fadeIn((function(){i.setTimeoutScroll()}))}))}},{key:"setTimeoutScroll",value:function(){this.scrollCount=!1,this.newsScroll()}},{key:"start",value:function(){var t=this;return function(){4==t.newsSetting.selectStyle&&(t.bindSliderEvent(),t.bindArrowEvent()),t.lock=!1,setTimeout((function(){t.scrollCount||t.newsScroll()}),1e3)}}},{key:"preventScroll",value:function(){this.editPanelLock=!0}},{key:"restartScroll",value:function(){this.editPanelLock=!1,this.start()()}},{key:"createQuestion",value:function(t){Site.popupBox({htmlContent:this.createHtml(),width:530,height:450,extClass:"goBackQuestion",paddingBottom:0,boxId:1211}),this.initQuestEvent(t)}},{key:"createHtml",value:function(){return'\n\t\t\t<div class="question_title">希望您有更好的体验，真诚得需要您的建议！</div>\n\t\t\t<div class="question_content">\n\t\t\t\t<div class="question_radio">\n\t\t\t\t\t<p class="reason">切回旧版的原因？</p>\n\t\t\t\t\t<div class="radio_list">\n\t\t\t\t\t\t<div class="radio_item">\n\t\t\t\t\t\t\t<i class="radio radio_active" data-log="7"></i>\n\t\t\t\t\t\t\t<span class="radio_text">再观察观察</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="radio_item">\n\t\t\t\t\t\t\t<i class="radio" data-log="8"></i>\n\t\t\t\t\t\t\t<span class="radio_text">影响到网站布局</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="radio_item">\n\t\t\t\t\t\t\t<i class="radio" data-log="9"></i>\n\t\t\t\t\t\t\t<span class="radio_text">展示效果没什么区别</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="radio_item">\n\t\t\t\t\t\t\t<i class="radio radio_input" data-log="4"></i>\n\t\t\t\t\t\t\t<span class="radio_text">其他</span>\n\t\t\t\t\t\t\t<input class="input">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\n\t\t\t\t<button class="comfirm">确定</button>\t\n\t\t\t</div>\n\t\t'}},{key:"initQuestEvent",value:function(t){var e=this;$(".goBackQuestion .radio").click((function(){$(this).parent().siblings().find(".radio_active").removeClass("radio_active"),$(this).toggleClass("radio_active")})),$(".goBackQuestion .comfirm").click((function(n){$(".goBackQuestion .radio_active").each((function(n,i){var o=parseInt($(i).attr("data-log"));if($(i).hasClass("radio_input")){var r=$(".goBackQuestion .input").val();if(r.length>100||!r.length)return void Fai.ing("提交的文字不可超过100个或少于1个。",1e3);$.ajax({type:"get",url:Site.addRequestPrefix({newPath:"/ajax/feedback_h.jsp?cmd=addNewsListBackReason",oldPath:Site.genAjaxUrl("feedback_h.jsp?cmd=addNewsListBackReason")}),data:{reason:encodeURIComponent(r)},success:function(n){(n=$.parseJSON(n)).success&&($("#popupBg1211").remove(),$("#popupBox1211").remove(),jzModule.ManageModule.find(e.moduleId).switchModuleVersion(t))}})}else Site.logDog(201220,o),$("#popupBg1211").remove(),$("#popupBox1211").remove(),jzModule.ManageModule.find(e.moduleId).switchModuleVersion(t)}))}))}},{key:"saveModuleData",value:function(){var t={sortKey:this.newsSetting.sortKey,sortType:this.newsSetting.sortType,newsIDList:this.newsSetting.newsIDList},e={setChangedData:!0,id:this.moduleId,colId:Fai.top._colId,extId:Fai.top._extId,prop0:this.module.prop0,prop3:$.toJSON(this.module.prop3),prop6:this.module.prop6,flag262144:this.module.newSelect,flag134217728:this.module.openPagenation,blob0:$.toJSON(t)};$.ajax({type:"post",url:Site.addRequestPrefix({newPath:"/ajax/module_h.jsp?cmd=setWafCk_setBack",oldPath:Site.genAjaxUrl("module_h.jsp?cmd=setWafCk_setBack")}),data:e,error:function(){Fai.ing("服务繁忙，请稍候重试",!1)},success:function(t){$.parseJSON(t).success||Fai.ing("系统错误。",!0)}})}},{key:"compatIEDot",value:function(){!Fai.isIE()||_manageMode||this.autoWrap||this.$el.find(".title_content").each((function(t,e){var n=$(e).width();$(e).width(n).addClass("news_ie_ellipsis")}))}},{key:"compatIESummaryDot",value:function(){var t=this;Fai.isIE()&&!_manageMode&&this.module.newsSummary&&this.$el.find(".news_summary").each((function(e,n){var i=$(n).height(),o=parseInt($(n).css("line-height")),r=Math.ceil(i/o),a=i/r,s=t.newsSetting.rowCount+1,l=s*a;s<r&&$(n).height(l)}))}},{key:"setIeClass",value:function(){Fai.isIE()&&!_manageMode&&this.module.newsSummary&&this.$el.find(".news_list_wrap").addClass("news_list__wrap-ie")}}])&&r(e.prototype,n),i&&r(e,i),u}(c)},536:function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(7),f=n(23),d=f.supportsIntersectionObserver,h=f.isIntersecting,p={root:null,rootMargin:"10px 0px",threshold:0},m=function v(t,e){var n=v._observer||(v._observer=new IntersectionObserver((function(t){t.forEach((function(t){if(h(t)){var e=t.target,i=e.getAttribute("_moduleid"),o=v["module".concat(i)];"function"==typeof o&&o(e),delete v["module".concat(i)],n.unobserve(e)}}))}),p));v["module".concat(t)]=e,function(t){Fai.top._manageMode?Fai.top.Vue.nextTick((function(){t()})):t()}((function(){var e=function(t){return document.querySelector?document.querySelector("#module".concat(t)):document.getElementById("module".concat(t))}(t);e&&n.observe(e)}))},g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,i=[{key:"initSimpleTextLazyLoad",value:function(t){var e=t.moduleId,n=t.writingMode,i=t.fontList,o=t.isExecInitSimpleText,r=t.initSimpleTextData;Fai.top._simpleTextGrayTest&&d()?m(e,(function(t){if(1!=n&&2!=n){var a=function(t){if(t)try{return t.offsetHeight}catch(e){return console.error(e),t.getBoundingClientRect().height}}(t.querySelector(".simpleText"));a>40&&(l="height",u=a+"px",(s=t)&&(s.style[l]=u))}var s,l,u;o&&Site.initSimpleText(r),Site.checkIEGradientText(e),Site.initFontFaceText(e,i),JZ.setHrefEventHasReqArgs(t)})):Site.initSimpleTextContent(e,n,t)}}],(n=null)&&r(e.prototype,n),i&&r(e,i),u}(c);t.exports=g},537:function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(7);t.exports=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,(n=[{key:"init",value:function(){}},{key:"getMutationObserverOptions",value:function(){return{callback:this.mutationCallBack.bind(this),filterClassList:["fillContentRelative","fullmeasureOuterContentPage"],dragingCall:!0}}},{key:"mutationCallBack",value:function(t){if(this.isAutoHeight()&&this.isModuleValid(this.moduleId)){Fai.top._mutationObLog&&console.log("".concat(this.moduleId,": 新版通栏"),t);var e=this.$el.height();Site.autoFmPackModuleHeight(this.$el),Fai.top._manageMode&&e!==this.$el.height()&&(Site.getModuleAttrPattern(this.moduleId).changed=!0)}}},{key:"isModuleValid",value:function(t){var e=$("#module"+t);return e.length>0&&"none"!==e.css("display")&&e.hasClass("formStyle109")&&0===$("#hiddenModuleForms").find("#module"+t).length}}])&&r(e.prototype,n),i&&r(e,i),u}(c)},538:function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(7);t.exports=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,(n=[{key:"init",value:function(){}},{key:"getMutationObserverOptions",value:function(){return{callback:this.mutationCallBack.bind(this),filterClassList:["fillContentRelative"]}}},{key:"mutationCallBack",value:function(t){this.isAutoHeight()&&(Fai.top._mutationObLog&&console.log("".concat(this.moduleId,": 旧版通栏"),t),Site.autoFmModuleHeight(this.$el))}}])&&r(e.prototype,n),i&&r(e,i),u}(c)},539:function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(7);t.exports=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,(n=[{key:"init",value:function(){}},{key:"getMutationObserverOptions",value:function(){return{callback:this.mutationCallBack.bind(this),filterSelector:""}}},{key:"mutationCallBack",value:function(t){this.isAutoHeight()&&(Fai.top._mutationObLog&&console.log("".concat(this.moduleId,": 自由容器"),t),Site.autoPackModuleHeight(this.$el))}}])&&r(e.prototype,n),i&&r(e,i),u}(c)},540:function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(7);t.exports=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,i=[{key:"triggerModuleAnimation",value:function(){jzUtils.run({name:"moduleAnimation.publish",base:Fai.top.Site}),jzUtils.run({name:"moduleAnimation.contentAnimationPublish",base:Fai.top.Site})}},{key:"triggerFlvModuleLazyLoad",value:function(t){t.find("video").trigger("appear")}}],(n=[{key:"init",value:function(){this.bindAccordionEvent(),this.fixOpacityInIE8()}},{key:"bindAccordionEvent",value:function(){if(!Fai.top._manageMode){var t=this;this.$el.find(".accordion_item").off("mouseenter.active").on("mouseenter.active",(function(){var e=$(this);e.hasClass("accordion_item_active")||(e.siblings(":not(.empty_padding)").each((function(t,e){var n=$(e);n.hasClass("accordion_item_active")&&(n.removeClass("accordion_item_active"),n.find(".accordion_item_collapse").show(),n.find(".accordion_item_collapse").removeClass("accordion_item_bg_pull"))})),e.find(".accordion_item_expand").show().end().addClass("accordion_item_active"),"none"!==e.find(".accordion_item_collapse").css("background-image")&&e.find(".accordion_item_collapse").addClass("accordion_item_bg_pull"),u.triggerModuleAnimation(),u.triggerFlvModuleLazyLoad(e),t.fixModuleHeightInVisitMode())}))}}},{key:"getMutationObserverOptions",value:function(){return{callback:this.mutationCallBack.bind(this),filterSelector:""}}},{key:"isAutoHeight",value:function(){return!(1!==parseInt(this.getPerformAttr("_autoHeight")))&&(Fai.top._manageMode?0===this.module.pattern.acp.ih.y:("undefined"!=typeof this.visitModeAutoHeight||(this.visitModeAutoHeight="1"===this.$el.find(".accordion_pack_container").attr("_autoheight")),this.visitModeAutoHeight))}},{key:"mutationCallBack",value:function(t){this.isAutoHeight()&&(Fai.top._mutationObLog&&console.log("".concat(this.moduleId,": 手风琴容器"),t),this.fixAutoHeight())}},{key:"fixAutoHeight",value:function(){var t=this,e=null;Fai.top._manageMode&&(e=this.$el.find(".J_accordionPackContent:not(:visible)")).show().css("visibility","hidden");var n=this.$el.find(".accordion_item_collapse .form"),i=this.$el.find(".accordion_item_expand .form"),o=this.getModuleMaxHeight(n,340),r=this.getModuleMaxHeight(i,420);Fai.top._manageMode&&(e.hide().css("visibility",""),jzManage._store.dispatch("pauseDataWatch")),this.module.expandHeight=r,this.module.collapseHeight=o,this.getPerformAttr("_infullmeasurepack")>0&&setTimeout((function(){t.$el.find(".accordion_pack_container").toggleClass("js_triggerMutationOb")}),300),this.fixModuleHeightInVisitMode()}},{key:"fixModuleHeightInVisitMode",value:function(){Fai.top._manageMode||("number"==typeof this.module.collapseHeight&&this.$el.find(".accordion_item").height(this.module.collapseHeight),"number"==typeof this.module.expandHeight&&this.$el.find(".accordion_item_active").height(this.module.expandHeight))}},{key:"getModuleMaxHeight",value:function(t){for(var e=Array.from(t),n=e.reduce((function(t,e){var n=$(e),i=parseInt(n.css("top"))||0,o=n.outerHeight(!0);return i+o>t?i+o:t}),0),i=arguments.length,o=new Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];return Math.max.apply(Math,[n].concat(o))}},{key:"fixOpacityInIE8",value:function(){Fai.isIE8()&&0===$("#accordionFixOpacity").length&&$("head").append('\n\t\t\t\t<style id="accordionFixOpacity">\n\t\t\t\t\t.accordion_item_expand{\n\t\t\t\t\t\tfilter: alpha(opacity=0);\n\t\t\t\t\t}\n\t\t\t\t\t.accordion_item_collapse {\n\t\t\t\t\t\tfilter: alpha(opacity=100);\n\t\t\t\t\t}\n\t\t\t\t\t.accordion_item_active .accordion_item_expand {\n\t\t\t\t\t\tfilter: alpha(opacity=100);\n\t\t\t\t\t}\n\t\t\t\t\t.accordion_item_active .accordion_item_collapse {\n\t\t\t\t\t\tfilter: alpha(opacity=0);\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t')}}])&&r(e.prototype,n),i&&r(e,i),u}(c)},541:function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(7);t.exports=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,i=[{key:"resizeModule",value:function(t,e){var n=Site.getElemId(t.element),i=jzModule.SiteModule.find(n);friendLinkPattern=i.module.pattern.fl,e&&(friendLinkPattern.rect.t=1),friendLinkPattern.rect.w=t.size.width,friendLinkPattern.rect.h=t.size.height}}],(n=[{key:"init",value:function(){this.listDataChange=!1,this.isGenerate=!1,this.showList=!1,this.bindEvent()}},{key:"bindEvent",value:function(){var t=this,e=this;this.$el.find(".m_friendlink__wrapper").click((function(t){e.toggleFoucs(),e.toggleList()})),document.addEventListener("scroll",(function(){t.cancelActive()})),window.addEventListener("resize",(function(){t.cancelActive()}))}},{key:"cancelActive",value:function(){this.showList&&(this.removeFoucs(),this.hideListLayer({noAnimate:!0}))}},{key:"setListDataChange",value:function(t){this.listDataChange=t}},{key:"setIsGenerate",value:function(t){this.isGenerate=t}},{key:"removeFoucs",value:function(){this.$el.find(".m_friendlink__wrapper").removeClass("m_friendlink__wrapper-active")}},{key:"toggleFoucs",value:function(){this.$el.find(".m_friendlink__wrapper").toggleClass("m_friendlink__wrapper-active")}},{key:"toggleList",value:function(){this.module.prop3.length&&(this.showList=!this.showList,!this.listDataChange&&this.isGenerate||!this.showList||this.generateListLayer(),this.showList?(this.setListLayerStyle(),this.showListLayer()):this.hideListLayer())}},{key:"showListLayer",value:function(){this.showList=!0;var t=$("#m_friendlink__list-".concat(this.moduleId)),e=$("#m_friendlink__layer-".concat(this.moduleId));0==this.module.prop1?t.show():t.slideDown(),e.show()}},{key:"hideListLayer",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.showList=!1;var e=$("#m_friendlink__list-".concat(this.moduleId)),n=$("#m_friendlink__layer-".concat(this.moduleId));t.noAnimate||0==this.module.prop1?e.hide():e.slideUp(),n.hide()}},{key:"setListLayerStyle",value:function(){this.setListStyle(),this.setLayerStyle()}},{key:"generateListLayer",value:function(){var t=$("#m_friendlink__list-".concat(this.moduleId)),e=$("#m_friendlink__layer-".concat(this.moduleId));t.length&&t.remove(),e.length&&e.remove(),this.setIsGenerate(!1),this.generateListDom(),this.generateLayerDom(),this.setIsGenerate(!0),this.setListDataChange(!1)}},{key:"generateLayerDom",value:function(){var t='\n                <div id="m_friendlink__layer-'.concat(this.moduleId,'" \n                    class="m_friendlink__layer" \n                ></div>\n            '),e=this;$("#web").append(t),$("#m_friendlink__layer-".concat(this.moduleId)).click((function(){e.toggleFoucs(),e.toggleList()}))}},{key:"generateListDom",value:function(){for(var t=[],e=this.module.prop3,n=0;n<e.length;n++){var i=e[n],o="\n                    <li class='m_friendlink__item'>\n                        <a class='m_friendlink__itemname' \n                           target=".concat(i.link.target||"_self","\n                           href='").concat(i.link.jumpUrl||"javascript:void(0);","'\n                           ").concat(i.link.jumpUrl?"onclick=jzModule.SiteModule.find("+this.moduleId+").hideListLayer({noAnimate:true})":'onclick="return false"',"   \n                        >\n                            ").concat(i.name,"\n                        </a>\n                    </li>\n                ");t.push(o)}var r='\n            <div id="m_friendlink__list-'.concat(this.moduleId,'" \n                 class="m_friendlink__list m_friendlink__list-').concat(this.module.prop1,'"\n            >\n                <ul class="m_friendlink__ul"> \n                    ').concat(t.join(""),"\n                </ul>\n            </div>\n        ");$("#web").append(r),setTimeout((function(){}))}},{key:"setLayerStyle",value:function(){$("#m_friendlink__layer-".concat(this.moduleId)).css({width:$("html").width()+"px",height:$("html").height()+"px"})}},{key:"setListStyle",value:function(){var t=$("#m_friendlink__list-".concat(this.moduleId)),e=$(this.$el).find(".m_friendlink__wrapper")[0].getBoundingClientRect(),n=e.left,i=e.top,o=e.width,r=e.bottom,a=this.module._manageMode?0==this.module.pattern.fl.dir:0==this.module.dir;position={left:n+"px",width:o+"px"},position=a?Object.assign(position,{top:r+5+"px",bottom:""}):Object.assign(position,{bottom:$("html").height()-i+5+"px",top:""}),t.css(position)}}])&&r(e.prototype,n),i&&r(e,i),u}(c)},542:function(t,e,n){var i=[n(543)];t.exports={install:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};i.forEach((function(e){"function"==typeof e?e(t):e&&"function"==typeof e.install&&e.install(t)}))}}},543:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};t._moduleLoadedCallbacks={},t.onModuleLoaded=function(t,e){if("number"!=typeof t)throw new Error("moduleId类型不为Number: "+n(t));if("function"!=typeof e)throw new Error("callback类型不为Function: "+n(e));this._moduleLoadedCallbacks[t]=e},t._executeModuleLoadedCallback=function(e){var n=this._moduleLoadedCallbacks[e];if("function"==typeof n&&"number"==typeof e){var i=t.SiteModule.find(e),o=t.ManageModule.find(e);n.call(t,i,o),delete this._moduleLoadedCallbacks[e]}}}},544:function(t,e,n){var i=n(545),o=n(174),r=o.isSupportWebp,a=o.imgToWebp,s=".J_img_lazyLoad, img[data-original]",l=null;function u(t){null!==l&&l.observeImages(t)}t.exports={init:function(){var t={selector:s,useWebp:Fai.top._isMallWeb||Fai.top.webpOptOpen};l=new i(t)},addImgLazyLoad:u,checkLazyLoad:function(t){null!==l&&t.find(s).each((function(t,e){u(e)}))},isSupportWebp:r,imgToWebp:a,forceLoadImages:function(t){null!==l&&l.forceLoadImages(t)}}},545:function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=n(174),a=r.isSupportWebp,s=r.imgToWebp,l=n(23),u=l.supportsIntersectionObserver,c=l.isIntersecting,f={selector:"img[data-original]",originalSrcAttr:"data-original",loadedAttr:"data-imgloaded",placeholderClass:"loadingPlaceholderBackground",isTransparentClass:"lazyload_transparent",useWebp:!0,root:null,rootMargin:"100px 0px",threshold:0},d=function y(){return"undefined"!=typeof y._value?y._value:y._value="undefined"!=typeof window},h=function(t,e){return t.getAttribute(e)},p=function(t,e,n){null!==n?t.setAttribute(e,n):t.removeAttribute(e)},m=function(t,e){if(e){var n=t.classList;n?n.add(e):$(t).addClass(e)}},g=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";if(e){var n=t.classList;n?n.remove(e):$(t).removeClass(e)}},v=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;i(this,t),d&&(this.settings=Object.assign({},f,e),this.supportsIntersectionObserver=u(),this.supportsIntersectionObserver?(this.images=n||document.querySelectorAll(this.settings.selector),this._observer=null,this._init()):this._showAllImage(n))}var e,n,r;return e=t,(n=[{key:"observeImages",value:function(t){var e=this;if(void 0!==t&&!(t instanceof NodeList||t instanceof Node))throw new Error("请传入node或者nodeList");if(this.supportsIntersectionObserver){var n=t||this.images,i=n instanceof NodeList?n:[t];Array.from(i).filter(this._filterImages.bind(this)).forEach((function(t){(function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";if(e){var n=t.classList;return n?n.contains(e):$(t).hasClass(e)}})(t,e.settings.isTransparentClass)||m(t,e.settings.placeholderClass),e._observer.observe(t)}))}else this._showAllImage(t)}},{key:"_init",value:function(){var t=this.settings,e={root:t.root,rootMargin:t.rootMargin,threshold:t.threshold};this._observer=new IntersectionObserver(this._onIntersection.bind(this),e),this.observeImages()}},{key:"_onIntersection",value:function(t){var e=this;t.forEach((function(t){c(t)&&e._handleImageChange(t.target)}))}},{key:"_handleImageChange",value:function(t){var e=this,n=this.settings,i=n.originalSrcAttr,o=n.useWebp,r=h(t,i),l=o&&a()?s(r):r;(function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return new Promise((function(e,n){var i=document.createElement("img");i.src=t,i.onload=function(t){e(t)},i.onerror=function(t){n(t)}}))})(l).then((function(){e._changeImage(t,l)}))["catch"]((function(){e._changeImage(t,r)}))}},{key:"_changeImage",value:function(t,e){var n=this.settings,i=n.loadedAttr,o=n.animationClass,r=n.placeholderClass,a=n.animationDuration;"img"===t.tagName.toLowerCase()?p(t,"src",e):t.style.backgroundImage="url(".concat(e,")"),i&&p(t,i,"true"),r&&g(t,r),o&&(m(t,o),setTimeout((function(){g(t,o)}),a)),this._observer&&this._observer.unobserve(t)}},{key:"_showAllImage",value:function(t){var e=this.settings,n=e.originalSrcAttr,i=e.selector,o=e.loadedAttr;$(t||i).each((function(t,e){var i=$(e),r=i.attr(n);i.is("img")?i.attr("src",r):i.css("background-image",r),o&&i.attr(o,"true")}))}},{key:"_filterImages",value:function(t){var e=this.settings,n=e.originalSrcAttr,i=e.loadedAttr,o=h(t,n),r="true"!==h(t,i);return o&&r}},{key:"forceLoadImages",value:function(t){var e=this;t.find(this.settings.selector).each((function(t,n){e._handleImageChange(n)}))}}])&&o(e.prototype,n),r&&o(e,r),t}();t.exports=v},546:function(t,e,n){var i=n(547),o=(0,n(4).memorize)((function(){return new i}));t.exports={initHiddenModuleList:o}},547:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._hiddenModuleList=[],this.getHiddenModuleList()}var e,i,o;return e=t,(i=[{key:"getHiddenModuleList",value:function(){var t=this;try{$.ajax({type:"post",url:Site.addRequestPrefix({newPath:"/ajax/module_h.jsp",oldPath:Site.genAjaxUrl("module_h.jsp")}),data:{cmd:"getWafNotCk_getHiddenModuleList",_colId:Fai.top._colId,_extId:Fai.top._extId,_manageMode:""+Fai.top._manageMode},error:function(){console.log("系统异常，请稍后重试")},success:function(e){var n=jQuery.parseJSON(e);n.success?t._hiddenModuleList=n.msg:Fai.ing(n.msg)}})}catch(e){console.log(e)}}},{key:"_checkNumber",value:function(t){if("number"!=typeof t&&"string"!=typeof t||"string"==typeof t&&"number"!=typeof parseInt(t))throw new Error("id is not number")}},{key:"isHiddenModule",value:function(t){this._checkNumber(t),this._checkArray();var e=this._hiddenModuleList;return Fai.top._manageMode?!!e.filter((function(e){return t==e.id})).length:this._hiddenModuleList.includes(t)}},{key:"hiddenModuleIndex",value:function(t){this._checkNumber(t),this._checkArray();var e=-1,n=this._hiddenModuleList;return Fai.top._manageMode?n.forEach((function(n,i){t==n.id&&(e=i)})):e=n.indexOf(t),e}},{key:"_checkArray",value:function(){if(!Array.isArray(this._hiddenModuleList))throw new Error("_hiddenModuleList is not array")}},{key:"getHiddenModuleIds",value:function(){return this._checkArray(),Fai.top._manageMode?this._hiddenModuleList.map((function(t){return t.id})):this._hiddenModuleList}},{key:"spliceHiddenModule",value:function(t){var e,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;this._checkArray();var i=this.hiddenModuleIndex(t);if(-1!==i){for(var o=arguments.length,r=new Array(o>2?o-2:0),a=2;a<o;a++)r[a-2]=arguments[a];(e=this._hiddenModuleList).splice.apply(e,[i,n].concat(r))}}},{key:"pushHiddenModule",value:function(t){this._checkArray(),this._hiddenModuleList.push(t)}},{key:"unshiftHiddenModule",value:function(t){this._checkArray(),this._hiddenModuleList.unshift(t)}}])&&n(e.prototype,i),o&&n(e,o),t}();t.exports=i},7:function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=n(171),m=p.DomChanged,g=p.isGrayTest,v=n(23).isFunction,y=n(170),b=n(172).initSiteAnimation,_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(a,t);var e,n,i,o=c(a);function a(t){var e;s(this,a);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return e=o.call.apply(o,[this,t].concat(i)),a._instances[t]=d(e),e.initSiteModule(),e.init(),e}return e=a,i=[{key:"destoryMutationObserver",value:function(t){var e=a._instances[t];e._mutationObserver&&e._mutationObserver.disconnect&&(e._mutationObserver.disconnect(),delete e._mutationObserver,delete e._mutationObserverOptions)}},{key:"find",value:function(t){return a._instances[t]}},{key:"install",value:function(t){var e=t.id,n=t.module;new(jzModule.getSiteModuleClass(t))(e,t),b(n)}}],(n=[{key:"init",value:function(){this.isCusModuleClass()&&this.throwError("未定义 init 方法")}},{key:"initSiteModule",value:function(){this.initMutationObserver()}},{key:"initMutationObserver",value:function(){if(g()&&v(this.getMutationObserverOptions)){var t=r(r({},this.getMutationObserverOptions()),{},{node:this.$el[0]?this.$el[0]:null});this._mutationObserverOptions=t,this._mutationObserver=new m(t)}}},{key:"isCusModuleClass",value:function(){return Object.getPrototypeOf(this).constructor!==a}}])&&l(e.prototype,n),i&&l(e,i),a}(y);_._instances={},t.exports=_}})}));