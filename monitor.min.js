!function(o,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("__webpack_no_use_variable",[],n):"object"==typeof exports?exports.__webpack_no_use_variable=n():o.__webpack_no_use_variable=n()}(this,(function(){return function(o){var n={};function t(e){if(n[e])return n[e].exports;var _=n[e]={i:e,l:!1,exports:{}};return o[e].call(_.exports,_,_.exports,t),_.l=!0,_.exports}return t.m=o,t.c=n,t.d=function(o,n,e){t.o(o,n)||Object.defineProperty(o,n,{enumerable:!0,get:e})},t.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},t.t=function(o,n){if(1&n&&(o=t(o)),8&n)return o;if(4&n&&"object"==typeof o&&o&&o.__esModule)return o;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:o}),2&n&&"string"!=typeof o)for(var _ in o)t.d(e,_,function(n){return o[n]}.bind(null,_));return e},t.n=function(o){var n=o&&o.__esModule?function(){return o["default"]}:function(){return o};return t.d(n,"a",n),n},t.o=function(o,n){return Object.prototype.hasOwnProperty.call(o,n)},t.p="",t(t.s=374)}({154:function(o,n){var t;function e(o,n,t){return n in o?Object.defineProperty(o,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[n]=t,o}var _={MonitorId:{DESIGN_SAVE:7332,RAPID_SITE_OPEN:7346,FORM_SUBMIT:7347,ADD_MODULE:7348,EDIT_MODULE:7349,HIDE_MODULE:7350,COPY_MODULE:7351,INIT_MODULES:7352,INIT_MODULE_STYLE:7353,MODULE_STATE_SWITCH:7354,OPEN_EDIT_PANEL:7355,OPEN_FUN_PANEL:7356,RAPID_SITE_INIT_DATA:9020,R_DESIGN_SAVE:9027,R_FORM_SUBMIT:9029,R_ADD_MODULE:9031,R_EDIT_MODULE:9033,R_HIDE_MODULE:9034,R_COPY_MODULE:9035,R_INIT_MODULES:9036,R_OPEN_FUN_PANEL:9040,R_ADD_MATERIAL:9037,R_FULL_SCREEN:9038,R_MODULE_REACT:9039,R_SYSTEM_MODULE_REACT:9058},AlarmMonitorId:{DESIGN_SAVE:7345,RAPID_SITE_OPEN:7333,FORM_SUBMIT:7334,ADD_MODULE:7335,EDIT_MODULE:7336,HIDE_MODULE:7337,COPY_MODULE:7338,INIT_MODULES:7339,INIT_MODULE_STYLE:7340,MODULE_STATE_SWITCH:7341,JZ_UTILS:7344,OPEN_EDIT_PANEL:7342,OPEN_FUN_PANEL:7343,R_DESIGN_SAVE:9028,R_FORM_SUBMIT:9030,R_ADD_MODULE:9032,R_EDIT_MODULE:9041,R_HIDE_MODULE:9042,R_COPY_MODULE:9043,R_INIT_MODULES:9044,R_OPEN_FUN_PANEL:9048,R_ADD_MATERIAL:9045,R_FULL_SCREEN:9047,R_MODULE_REACT:9046,R_SYSTEM_MODULE_REACT:9057}},r=_.MonitorId,E=_.AlarmMonitorId;_._AutoAlarmMonitorMap=(e(t={},r.DESIGN_SAVE,E.DESIGN_SAVE),e(t,r.RAPID_SITE_OPEN,E.RAPID_SITE_OPEN),e(t,r.FORM_SUBMIT,E.FORM_SUBMIT),e(t,r.ADD_MODULE,E.ADD_MODULE),e(t,r.HIDE_MODULE,E.HIDE_MODULE),e(t,r.COPY_MODULE,E.COPY_MODULE),e(t,r.INIT_MODULES,E.INIT_MODULES),e(t,r.INIT_MODULE_STYLE,E.INIT_MODULE_STYLE),e(t,r.MODULE_STATE_SWITCH,E.MODULE_STATE_SWITCH),e(t,r.OPEN_EDIT_PANEL,E.OPEN_EDIT_PANEL),e(t,r.OPEN_FUN_PANEL,E.OPEN_FUN_PANEL),e(t,r.R_DESIGN_SAVE,E.R_DESIGN_SAVE),e(t,r.R_FORM_SUBMIT,E.R_FORM_SUBMIT),e(t,r.R_ADD_MODULE,E.R_ADD_MODULE),e(t,r.R_EDIT_MODULE,E.R_EDIT_MODULE),e(t,r.R_HIDE_MODULE,E.R_HIDE_MODULE),e(t,r.R_COPY_MODULE,E.R_COPY_MODULE),e(t,r.R_INIT_MODULES,E.R_INIT_MODULES),e(t,r.R_OPEN_FUN_PANEL,E.R_OPEN_FUN_PANEL),e(t,r.R_ADD_MATERIAL,E.R_ADD_MATERIAL),e(t,r.R_FULL_SCREEN,E.R_FULL_SCREEN),e(t,r.R_MODULE_REACT,E.R_MODULE_REACT),e(t,r.R_SYSTEM_MODULE_REACT,E.R_SYSTEM_MODULE_REACT),t),o.exports=_},374:function(o,n,t){var e=t(375),_=t(154);n.Monitor=e,n.MonitorDef=_,"undefined"!=typeof window&&(window.Monitor=e,window.MonitorDef=_),Function.prototype.bindMonitor=function(o){return e.monitorDecorator(this)(o)}},375:function(o,n,t){function e(o,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}var _=t(154),r=function(){function o(){!function(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o)}var n,t,r;return n=o,r=[{key:"startMonitor",value:function(n){var t=this;if(!n)return console.error("请传入 monitorId"),function(){};var e=new Date;return o._monitors[n]={startTime:e},function(){var o=!(arguments.length>0&&arguments[0]!==undefined)||arguments[0],e=arguments.length>1?arguments[1]:undefined;return t.endMonitor(n,o,e)}}},{key:"endMonitor",value:function(n){var t=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1],e=arguments.length>2?arguments[2]:undefined,_=o._monitors[n];delete o._monitors[n],_&&_.startTime&&(this.logMonitor(n,!t,new Date-_.startTime),e&&this.logErr("siteFrontendMonitorErr, monitorId:"+n+"; href:"+location.href+"; errmsg:"+e.stack))}},{key:"logMonitor",value:function(o,n,t){this._sendData({monitorId:o,cmd:"wafNotCk_logMonitor",isError:n,consumeTime:t,alarmMonitorId:this._getAutoAlarmMonitorId(o)})}},{key:"logAlarmMonitor",value:function(o){this._sendData({monitorId:o,cmd:"wafNotCk_logAlarmMonitor"})}},{key:"_sendData",value:function(o){location.search.includes("monitor_log")&&console.log("监控上报",o),$.ajax({url:"/ajax/frontMonitor_h.jsp",type:"post",data:o,success:function(o){var n=JSON.parse(o);n.success||console.error("监控数据上报错误",n)},error:function(o){console.error("监控数据上报错误",o)}})}},{key:"logErr",value:function(o){o&&$.ajax({type:"GET",url:"/ajax/log_h.jsp?cmd=wafNotCk_err&err="+encodeURIComponent(o)})}},{key:"_getAutoAlarmMonitorId",value:function(o){return _._AutoAlarmMonitorMap[o]||0}},{key:"monitorDecorator",value:function(n){return function(t){return function(){var e,_=o.startMonitor(t);try{e=n.apply(this,arguments)}catch(r){throw _(!1,r),r}return e instanceof Promise?e.then((function(o){return _(!0),o}))["catch"]((function(o){throw _(!1,o),o})):(_(!0),e)}}}}],(t=null)&&e(n.prototype,t),r&&e(n,r),o}();r._monitors={},o.exports=r}})}));