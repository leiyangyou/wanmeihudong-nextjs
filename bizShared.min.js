/* 1.2.27 */
!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("../utils/jzUtils.min.js"),require("vue")):"function"==typeof define&&define.amd?define([,],n):"object"==typeof exports?exports.bizShared=n(require("../utils/jzUtils.min.js"),require("vue")):e.bizShared=n(e.jzUtils,e.Vue)}("undefined"!=typeof self?self:this,(function(e,n){return function(e){function n(n){for(var t,r,o=n[0],a=n[1],s=0,u=[];s<o.length;s++)r=o[s],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);for(c&&c(n);u.length;)u.shift()()}var t={},i={1:0};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var n=[],t=i[e];if(0!==t)if(t)n.push(t[2]);else{var o=new Promise((function(n,r){t=i[e]=[n,r]}));n.push(t[2]=o);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=function(e){return r.p+""+({0:"ImageViewer"}[e]||e)+".min.js?v=1.2.27"}(e);var c=new Error;a=function(n){s.onerror=s.onload=null,clearTimeout(u);var t=i[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",c.name="ChunkLoadError",c.type=r,c.request=o,t[1](c)}i[e]=undefined}};var u=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(n)},r.m=e,r.c=t,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)r.d(t,i,function(n){return e[n]}.bind(null,i));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r.oe=function(e){throw console.error(e),e};var o=("undefined"!=typeof self?self:this).webpackJsonp_name_=("undefined"!=typeof self?self:this).webpackJsonp_name_||[],a=o.push.bind(o);o.push=n,o=o.slice();for(var s=0;s<o.length;s++)n(o[s]);var c=a;return r(r.s=3)}([function(n,t){n.exports=e},function(e,n,t){"use strict";t.d(n,"d",(function(){return u})),t.d(n,"c",(function(){return l})),t.d(n,"a",(function(){return f})),t.d(n,"e",(function(){return d})),t.d(n,"b",(function(){return p}));var i=t(0);if(Object(i.isBrowserEnv)()){"classList"in document.documentElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var e=this;function n(n){return function(t){var i=e.className.split(/\s+/g),r=i.indexOf(t);n(i,r,t),e.className=i.join(" ")}}return{add:n((function(e,n,t){~n||e.push(t)})),remove:n((function(e,n){~n&&e.splice(n,1)})),toggle:n((function(e,n,t){~n?e.splice(n,1):e.push(t)})),contains:function(n){return!!~e.className.split(/\s+/g).indexOf(n)},item:function(n){return e.className.split(/\s+/g)[n]||null}}}});for(var r=0,o=["webkit","moz"],a=0;a<o.length&&!window.requestAnimationFrame;++a)window.requestAnimationFrame=window[o[a]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[o[a]+"CancelAnimationFrame"]||window[o[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),t=Math.max(0,16-(n-r)),i=window.setTimeout((function(){e(n+t)}),t);return r=n+t,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}var s=function(){var e=!1;if(Object(i.isBrowserEnv)()){var n=!1,t=function(){},r=Object.defineProperty({},"once",{get:function(){return e=!0,n},set:function(e){n=e}});window.addEventListener("test",t,r),window.removeEventListener("test",t,r)}return e}(),c=/\s\s*/,u=Object(i.isBrowserEnv)()&&document.addEventListener?function(e,n,t){if(e&&n&&t){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},r=t;n.trim().split(c).forEach((function(n){if(i.once&&!s){var o=e.listeners,a=void 0===o?{}:o;r=function(){delete a[n][t],e.removeEventListener(n,r,i);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];t.apply(e,s)},a[n]||(a[n]={}),a[n][t]&&e.removeEventListener(n,a[n][t],i),a[n][t]=r,e.listeners=a}e.addEventListener(n,r,i)}))}}:function(e,n,t){if(e&&n&&t){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},r=t;n.trim().split(c).forEach((function(n){if(i.once&&!s){var o=e.listeners,a=void 0===o?{}:o;r=function(){delete a[n][t],e.removeEventListener(n,r,i);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];t.apply(e,s)},a[n]||(a[n]={}),a[n][t]&&e.removeEventListener(n,a[n][t],i),a[n][t]=r,e.listeners=a}e.attachEvent("on"+n,r)}))}},l=Object(i.isBrowserEnv)()&&document.removeEventListener?function(e,n,t){if(e&&n){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},r=t;n.trim().split(c).forEach((function(n){if(!s){var o=e.listeners;o&&o[n]&&o[n][t]&&(r=o[n][t],delete o[n][t],0===Object.keys(o[n]).length&&delete o[n],0===Object.keys(o).length&&delete e.listeners)}e.removeEventListener(n,r,i)}))}}:function(e,n,t){if(e&&n){var i=t;n.trim().split(c).forEach((function(n){if(!s){var r=e.listeners;r&&r[n]&&r[n][t]&&(i=r[n][t],delete r[n][t],0===Object.keys(r[n]).length&&delete r[n],0===Object.keys(r).length&&delete e.listeners)}e.detachEvent("on"+n,i)}))}},f=function(){return window.scrollY||document.documentElement.scrollTop},d=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(!Object(i.isNumber)(e)||!Object(i.isNumber)(n))throw new Error(e+" "+n+" must be a number");window.scrollTo(e,n)},m=Object(i.memorize)((function(){var e,n=document.createElement("fakeelement"),t={animation:{end:"animationend",start:"animationstart"},WebkitAnimation:{end:"webkitAnimationEnd",start:"webkitAnimationStart"},OAnimation:{end:"oAnimationEnd",start:"oAnimationStart"},msAnimation:{end:"MSAnimationEnd",start:"MSAnimationStart"},MozAnimation:{end:"mozAnimationEnd",start:"mozAnimationStart"}};for(e in t)if(n.style[e]!==undefined)return t[e]})),p=function(e){var n=e.el,t=e.startCallBack,r=e.endCallBack,o=m();u(n,"".concat(o.start),(function a(){Object(i.isPromise)(t)?t().then((function(){l(n,"".concat(o.start),a)})):(Object(i.isFunction)(t)&&t(),l(n,"".concat(o.start),a))})),u(n,"".concat(o.end),(function s(){Object(i.isPromise)(r)?r().then((function(){l(n,"".concat(o.end),s)})):(Object(i.isFunction)(r)&&r(),l(n,"".concat(o.end),s))}))}},function(e,t){e.exports=n},function(e,n,t){"use strict";t.r(n),t.d(n,"SlideshowMaps",(function(){return d})),t.d(n,"getSlideshowMap",(function(){return p})),t.d(n,"slideshowView",(function(){return h})),t.d(n,"ANIMATION_TYPE_LIST",(function(){return T})),t.d(n,"ANIMATION_TYPE",(function(){return P})),t.d(n,"vuePlugin",(function(){return ln})),t.d(n,"TableResponsive",(function(){return c})),t.d(n,"getUnifyData",(function(){return u})),t.d(n,"AnimationApis",(function(){return i})),t.d(n,"InterSectionObserApi",(function(){return r}));var i={};t.r(i),t.d(i,"getAnimationManageConfig",(function(){return Ce})),t.d(i,"getAllAnimationManageMap",(function(){return Me})),t.d(i,"getAnimationManage",(function(){return Ne})),t.d(i,"hasAnimationManageMap",(function(){return Le})),t.d(i,"initAnimationManage",(function(){return De})),t.d(i,"getAnimationConfig",(function(){return xe}));var r={};t.r(r),t.d(r,"animationUnobserve",(function(){return en})),t.d(r,"isObserveEl",(function(){return nn})),t.d(r,"initAnimationObserver",(function(){return tn})),t.d(r,"SectionObserverMap",(function(){return Ge})),t.d(r,"SECTION_OBSERVER_DATA",(function(){return sn})),t.d(r,"initSectionObserver",(function(){return cn}));var o=t(0);Object(o.isBrowserEnv)()&&window.__jzFrontendResRoot__&&(t.p=window.__jzFrontendResRoot__+"/dist/biz-shared/");var a=t(2),s=t.n(a),c={init:function(e){var n=e.$tables,t=e.parentClassName,i=void 0===t?"":t;n.length&&(this.$tables=n,this.parentClassName=i,this._handler(),this._handlerFunction=Object(o.debounce)(this._handler.bind(this),300),this.initResizeEvent())},_handler:function(){for(var e=0;e<this.$tables.length;e++){var n=this.$tables.eq(e);if("100%"!==n.css("width")){var t=n.parents(this.parentClassName).eq(0);parseInt(t.width(),10)<parseInt(n.attr("width"),10)?n.css("width","100%"):n.css("width","")}}},initResizeEvent:function(){var e="resize";window.removeEventListener(e,this._handlerFunction),window.addEventListener(e,this._handlerFunction)}};var u=function(){var e,n,t,i,r,o,a,s,c;return null!==(e=Fai.top)&&void 0!==e&&e._isResponsive?{manageMode:(c=null===(n=Fai.top)||void 0===n?void 0:n._global).manageMode,oem:c.oem,siteVer:c.siteVer,Fai:null===(t=Fai.top)||void 0===t?void 0:t.Fai,proSiteQueryStr:c.proSiteQueryStr,siteAdmDomain:c._siteAdmDomain,resRoot:c.resRoot,Site:null===(i=Fai.top)||void 0===i?void 0:i.Site,aid:c.aid,$:null===(r=Fai.top)||void 0===r?void 0:r.$,isMallWeb:!1,siteId:c.siteId,isFreeVer:c.isFreeVer,checkUPlanAcct:null===(o=Fai.top)||void 0===o?void 0:o.checkUPlanAcct,mallHomeUrl:c.mallHomeUrl,httpStr:c.httpStr,jzProUrl:c.jzProUrl,isResponsive:null===(a=Fai.top)||void 0===a?void 0:a._isResponsive,siteDomain:c.siteDomain,Root:null===(s=Fai.top)||void 0===s?void 0:s.Root}:function(){var e,n=Fai.top;return{manageMode:n._manageMode,oem:n._oem,siteVer:n._siteVer,Fai:n.Fai,proSiteQueryStr:n._proSiteQueryStr,siteAdmDomain:n._siteAdmDomain,resRoot:n._resRoot,Site:n.Site,aid:n._aid,$:n.$,isMallWeb:n._isMallWeb,siteId:n._siteId,isFreeVer:null===(e=n._Global)||void 0===e?void 0:e.isFreeVer,checkUPlanAcct:n.checkUPlanAcct,mallHomeUrl:n._mallHomeUrl,httpStr:n.httpStr,jzProUrl:n._jzProUrl,siteType:n._siteType,isResponsive:!1,siteDomain:n._siteDomain,portalDomain:n._portalHost,Root:{}}}()},l=t(1);function f(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var d=new Map,m=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=Object(o.deepExtendClone)({initialIndex:0,previewSrcList:[],appendContainer:null,isMobi:!1,onSwitch:function(){},maskClosable:!0,maxScale:4,minScale:.2,contentTerminal:"",onLog:function(){},logEventConfig:{},infinite:!0,appendToContainerId:"",manageMode:!1,appendToBody:!0,onClose:function(){},zIndex:2e3,isShowActions:!0,disableLongPress:!1,documentEventEl:null},n),this._slideshowVm=null,this.handleResize=null,this.append(),this.initVue()}var n,t,i;return n=e,(t=[{key:"show",value:function(e){if(this._slideshowVm){var n=e.initialIndex,t=e.previewSrcList;this._slideshowVm.options.initialIndex=n,this._slideshowVm.options.previewSrcList=t}return this._slideshowVm?this._slideshowVm.showImageViewer():Promise.resolve()}},{key:"hide",value:function(){return this._slideshowVm?this._slideshowVm.closeViewer():Promise.resolve()}},{key:"append",value:function(){var e=this.options,n=e.appendContainer,t=e.id,i=document.createElement("div");i.setAttribute("id","slideshow_".concat(t)),n&&n.appendChild?this.options.appendContainer.appendChild(i):document.body.appendChild(i)}},{key:"_resize",value:function(){this.options.isMobi=window.innerWidth<=1024}},{key:"resizeInstall",value:function(){var e=this;this.handleResize=Object(o.rafThrottle)((function(){e._resize()})),Object(l.d)(window,"resize.Slideshow",this.handleResize)}},{key:"resizeUninstall",value:function(){Object(l.c)(window,"resize.Slideshow",this.handleResize),this.handleResize=null}},{key:"initVue",value:function(){if(this._slideshowVm)return this._slideshowVm;var e=this.options.id;this._slideshowVm=new Vue({data:{slideshow:this,options:this.options,showViewer:!0},mounted:function(){this.slideshow.resizeInstall()},methods:{showImageViewer:function(){var e=this;return new Promise((function(n){e.showViewer=!0,e.slideshow.resizeInstall(),n()}))},closeViewer:function(){var e=this;return new Promise((function(n){e.showViewer=!1,e.slideshow.resizeUninstall(),n()}))}},template:"\n            <div id='slideshow_".concat(e,'\'>\n                <div \n                    class="slideshow_viewer" \n                    v-if="showViewer">\n                    <image-viewer\n                        :z-index="options.zIndex"\n                        :initial-index="options.initialIndex"\n                        :on-close="closeViewer"\n                        :on-log="options.onLog"\n                        :log-event-config="options.logEventConfig"\n                        :url-list="options.previewSrcList"\n                        :is-mobi="options.isMobi"\n                        :on-switch="options.onSwitch"\n                        :mask-closable="options.maskClosable"\n                        :max-scale="options.maxScale"\n                        :min-scale="options.minScale"\n                        :content-terminal="options.contentTerminal"\n                        :append-to-body="options.appendToBody"\n                        :manage-mode="options.manageMode"\n                        :infinite="options.infinite"\n                        :append-to-container-id="options.appendToContainerId"\n                        :is-show-actions="options.isShowActions"\n                        :disable-long-press="options.disableLongPress"\n                        :document-event-el="options.documentEventEl"\n                    />\n                </div>\n            </div>')}).$mount("#slideshow_".concat(e))}}])&&f(n.prototype,t),i&&f(n,i),e}(),p=function(e){return d.has(e)&&d.get(e)},h=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{id:0,initialIndex:0,previewSrcList:[]};return new Promise((function(n,t){var i=e.id;if(!e.previewSrcList.length||"undefined"==typeof Vue)return console.warn("slideshow 缺少图片数据---"),void t("slideshow 缺少图片数据---");var r=p(i);r?r.show(e):(r=new m(e),d.set(i,r)),n(r)}))},v={FADE_IN:"fadeIn",ZOOM_IN:"zoomIn",ELASTIC_LARGE:"elasticLarge",ELASTIC_SMALL:"elasticSmall",ROLL_IN:"rollIn",FLASH:"flash",FLIP_LEFT_RIGHT:"flipLeftRight",FLIP_UP_DOWN:"flipUpDown",MOVE_IN:"moveIn",BOUNCE_IN:"bounceIn",FLIP:"flip",BOUNCE:"bounce",SHAKE:"shake",TADA:"tada",WOBBLE:"wobble",SWING:"swing",ROTATING:"rotating",JELLO:"jello",RUBBER_BAND:"rubberBand",TRANSLATION:"translation",FADE_OUT:"fadeOut",MOVE_OUT:"moveOut",ROTATE_OUT:"rotateOut",ROTATE_IN:"rotateIn"},b={LEFT:"Left",RIGHT:"Right",UP:"Up",DOWN:"Down",LEFT_RIGHT:"LeftRight",UP_DOWN:"UpDown"},y="pending",g="running",O="finish",A={el:null,name:"",duration:.6,timingFunction:"",delay:0,iterationCount:1,direction:"normal",order:0,interval:0,fillMode:"none",originDelay:0},w={s:"duration",tf:"timingFunction",d:"interval",od:"originDelay",c:"count",r:"direction",o:"order",i:"delay",tg:"trigger",t:"type",fm:"fillMode"};function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(Object(t),!0).forEach((function(n){S(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function S(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var k=_(_({type:0},A),{},{beforeAnimationStart:function(){return Promise.resolve()},animationRunning:function(){return Promise.resolve()},afterAnimationEnd:function(){return Promise.resolve()}}),j=new Map,P={EMPHASIS:"emphasis",ADMISSION:"admission",CONTENT:"content",APPEARANCE:"appearance",BACKGROUND:"background",HOVER_DDMISSION:"hoverDdmission",HOVER_APPEARANCE:"hoverAppearance"},R={c:1,d:0,i:0,o:0,r:0,s:.6,t:0,tg:0,el:null,fm:"none",beforeAnimationStart:function(){return Promise.resolve()},animationRunning:function(){return Promise.resolve()},afterAnimationEnd:function(){return Promise.resolve()}},I={},T=[],C={},M=function(e){Object.keys(P).forEach((function(n){e.apply(null,[P[n]])}))};function N(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=D(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==t["return"]||t["return"]()}finally{if(s)throw o}}}}function D(e,n){if(e){if("string"==typeof e)return x(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?x(e,n):void 0}}function x(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function V(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function U(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function z(e,n){return(z=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function H(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,i=q(e);if(n){var r=q(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return G(this,t)}}function G(e,n){return!n||"object"!==F(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}M((function(e){T.push(e)})),C.animation={},C.manage={},C.manage.id=Object(o.createRandomId)(8),C.manage.container="",C.manage.manageMode=!1,M((function(e){C.animation[e]=Object(o.deepExtendClone)(k)})),M((function(e){switch(e){case P.EMPHASIS:I[e]=Object(o.deepExtendClone)(R,{c:-1,s:1});break;default:I[e]=Object(o.deepExtendClone)(R)}}));var $=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&z(e,n)}(a,e);var n,t,i,r=H(a);function a(){var e,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return B(this,a),(e=r.call(this)).options=Object(o.deepExtendClone)(A,n),e.animationCount=0,e.animationState=y,e._proxyOptions(),e._init(),e}return n=a,(t=[{key:"_init",value:function(){}},{key:"_startAnimation",value:function(){Object(o.digGet)(this,"el.style")&&(this.el.style.animation=this._animationStyle)}},{key:"handleBeforeAnimationStart",value:function(){this.emit("beforeAnimationStart"),this.animationState=y,this._startAnimation()}},{key:"handleAnimationRunning",value:function(){this.animationCount++,this.animationState=g,this.emit("animationRunning")}},{key:"handleAfterAnimationEnd",value:function(){var e=this;this._stopAnimation(),this.el&&this.el.getBoundingClientRect(),requestAnimationFrame((function(){e.emit("afterAnimationEnd")}))}},{key:"play",value:function(){var e=this;if(this.el)return this.handleBeforeAnimationStart(),Object(l.b)({el:this.el,startCallBack:function(){e.handleAnimationRunning()},endCallBack:function(){e.handleAfterAnimationEnd()}}),this}},{key:"stop",value:function(){return this._stopAnimation(),this}},{key:"_proxyOptions",value:function(){var e=this;Object.keys(this.options).forEach((function(n){Object.defineProperty(e,n,{get:function(){return this.options[n]},set:function(e){this.options[n]=e}})}))}},{key:"_stopAnimation",value:function(){Object(o.digGet)(this,"el.style.animation")&&(this.el.style.animation="none"),this.animationState=O}},{key:"set",value:function(e,n){return this._stopAnimation(),this[e]=n,this}},{key:"animationDefaultData",get:function(){return[v,b]}},{key:"_animationStyle",get:function(){return[this.name,"".concat(this.duration,"s"),this.timingFunction,"".concat(this.delay||0,"s"),this.iterationCount,this.direction,this.fillMode].filter(Boolean).join(" ")}}])&&U(n.prototype,t),i&&U(n,i),a}(function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={}}var n,t,i;return n=e,(t=[{key:"on",value:function(e,n,t){"undefined"==typeof this.events[e]&&(this.events[e]=[]);for(var i=arguments.length,r=new Array(i>3?i-3:0),o=3;o<i;o++)r[o-3]=arguments[o];return this.events[e].push({scope:t,callback:n,args:r}),this}},{key:"once",value:function(e,n,t){for(var i=this,r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];var s=function c(){i.off.apply(i,[e,c,t].concat(o)),n.apply(void 0,o)};return s.callback=n,this.on.apply(this,[e,s,t].concat(o)),this}},{key:"off",value:function(e,n,t){if("undefined"!=typeof this.events[e])return this.events[e]=this.events[e].filter((function(e){return e.scope!==t||e.callback!==n})),this}},{key:"has",value:function(e,n,t){if("undefined"==typeof this.events[e])return!1;var i=this.events[e].length;return n===undefined&&t===undefined?i>0:this.events[e].some((function(e){var i=!t||e.scope===t,r=e.callback===n;if(i&&r)return!0}))}},{key:"emit",value:function(e,n){if("undefined"!=typeof this.events[e]){for(var t={type:e,target:n},i=this.events[e].slice(),r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var s,c=L(i);try{for(c.s();!(s=c.n()).done;){var u=s.value;u&&u.callback&&u.callback.apply(u.scope,[t].concat(o,N(u.args)))}}catch(l){c.e(l)}finally{c.f()}return this}}}])&&V(n.prototype,t),i&&V(n,i),e}());function J(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function K(e,n,t,i,r,o,a){try{var s=e[o](a),c=s.value}catch(u){return void t(u)}s.done?n(c):Promise.resolve(c).then(i,r)}function Q(e){return function(){var n=this,t=arguments;return new Promise((function(i,r){var o=e.apply(n,t);function a(e){K(o,i,r,a,s,"next",e)}function s(e){K(o,i,r,a,s,"throw",e)}a(undefined)}))}}function Y(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Z(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function X(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}W($,"NAME",v),W($,"DIRECTION",b);var ee=b.LEFT,ne=b.RIGHT,te=b.UP,ie=b.DOWN,re=b.LEFT_RIGHT,oe=b.UP_DOWN,ae=v.FADE_IN,se=v.MOVE_IN,ce=v.ZOOM_IN,ue=v.ELASTIC_LARGE,le=v.ELASTIC_SMALL,fe=v.BOUNCE_IN,de=v.ROLL_IN,me=v.FLIP,pe=v.FLASH,he=v.BOUNCE,ve=v.SHAKE,be=v.TADA,ye=v.WOBBLE,ge=v.SWING,Oe=v.ROTATING,Ae=v.JELLO,we=v.RUBBER_BAND,Ee=v.TRANSLATION,_e=v.ROTATE_IN,Se=v.ROTATE_OUT,ke=v.FADE_OUT,je=v.MOVE_OUT,Pe=function(e,n){var t="";if(0===e)return t;switch(e){case 1:t=ae;break;case 2:t=se;break;case 3:t=ce;break;case 4:t=ue;break;case 5:t=le;break;case 6:t=fe;break;case 7:t=de;break;case 8:case 30:t=me;break;case 9:case 29:t=pe;break;case 20:t=he;break;case 21:t=ve;break;case 22:t=be;break;case 23:t=ye;break;case 24:t=ge;break;case 25:t=Oe;break;case 26:t=Ae;break;case 27:t=we;break;case 28:t=Ee;break;case 31:t=ke;break;case 32:t=je;break;case 33:t=Se;break;case 34:t=_e}return""!==t&&(t=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",n=arguments.length>1?arguments[1]:undefined,t=e;switch(n){case 1:t+=ee;break;case 2:t+=ne;break;case 3:t+=te;break;case 4:t+=ie;break;case 12:t+=re;break;case 34:t+=oe}return t}(t,n)),t},Re=function(){var e={};return T.forEach((function(n){e[n]={}})),e},Ie=function(){function e(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Y(this,e),this.options=Object(o.deepExtendClone)(C,n),this.animation=Re(),this.animationVms={},this.manage={},this._init()}var n,t,i,r,a,s,c,u,l,f,d;return n=e,t=[{key:"resetAnimation",value:function(e){e.animationCount=0,e.animationState=y}},{key:"_emphasisPlayHandler",value:function(e){e.animationCount>0&&(e.animationCount=0),0!==e[w.i]&&(e[w.od]=e[w.i],e[w.i]=0);var n,t,i,r,o=e.interval;o>0?(null==e||null===(n=e.el)||void 0===n||null===(t=n.classList)||void 0===t||t.remove("animateModule"),setTimeout((function(){e.play()}),1e3*o)):(e.play(),null==e||null===(i=e.el)||void 0===i||null===(r=i.classList)||void 0===r||r.remove("animateModule"))}},{key:"_animationPlayHandler",value:function(e){var n,t,i=e.interval;i>0?setTimeout((function(){var n,t;e.play(),null==e||null===(n=e.el)||void 0===n||null===(t=n.classList)||void 0===t||t.remove("animateModule")}),1e3*i):(e.play(),null==e||null===(n=e.el)||void 0===n||null===(t=n.classList)||void 0===t||t.remove("animateModule"))}},{key:"_animationVmPlay",value:function(e,n,t){switch(t){case P.EMPHASIS:this._emphasisPlayHandler(e);break;default:this._animationPlayHandler(e)}this.bindAnimationRunning(e),this.bindAfterAnimationEnd(e,n)}},{key:"_handleStop",value:function(e){var n=this,t=this.animationVms[e];if(t&&(!t||t.type))if(Object(o.isArray)(t))t.forEach((function(e){n.removeAllEvent(t),e.stop()}));else switch(this.removeAllEvent(t),e){case P.EMPHASIS:this.resetAnimation(t),t.stop();break;default:t.stop()}}},{key:"_handlePlay",value:function(e){var n=this;return new Promise((function(t){var i=n.animationVms[e];i&&(!i||i.type||Object(o.isArray)(i)&&i[0].type)?Object(o.isArray)(i)?i.forEach((function(i,r){0==r&&n.bindBeforeAnimationStart(i,e),n._animationVmPlay(i,t,e)})):(n.bindBeforeAnimationStart(i,e),i.type||t(i),n._animationVmPlay(i,t,e)):t(i)}))}},{key:"getAnimationPromisePending",value:function(e,n){var t=Object(o.isFunction)(Object(o.digGet)(e,n))?e[n](e):Promise.resolve(e);return Object(o.isPromise)(t)?t:Promise.resolve(e)}},{key:"removeAllEvent",value:function(e){this.removeBeforeAnimationStartEvent(e),this.removeAnimationRunningEvent(e),this.removeAfterAnimationEndEvent(e)}},{key:"removeBeforeAnimationStartEvent",value:function(e){e.off("beforeAnimationStart",e.beforeAnimationStartHandler)}},{key:"removeAnimationRunningEvent",value:function(e){e.off("animationRunning",e.animationRunningHandler)}},{key:"removeAfterAnimationEndEvent",value:function(e){e.off("afterAnimationEnd",e.afterAnimationEndHandler)}},{key:"bindBeforeAnimationStart",value:function(e){var n=this;this.removeBeforeAnimationStartEvent(e),e.beforeAnimationStartHandler=function(){return n.getAnimationPromisePending(e,"beforeAnimationStart")},e.on("beforeAnimationStart",e.beforeAnimationStartHandler)}},{key:"bindAnimationRunning",value:function(e){var n=this;this.removeAnimationRunningEvent(e),e.animationRunningHandler=function(){return n.getAnimationPromisePending(e,"animationRunning")},e.on("animationRunning",e.animationRunningHandler)}},{key:"bindAfterAnimationEnd",value:function(e,n){var t=this;this.removeAfterAnimationEndEvent(e),e.afterAnimationEndHandler=function(){var i=t.getAnimationPromisePending(e,"afterAnimationEnd"),r=e.count,o=e.animationCount;return i.then((function(i){1===r||t.manage.manageMode||((-1===r||o<r)&&(e[w.od]!==e[w.i]&&(e[w.i]=e[w.od]),e.play()),n(i)),n(i)}))},e.on("afterAnimationEnd",e.afterAnimationEndHandler)}},{key:"emphasisPlay",value:(d=Q(regeneratorRuntime.mark((function m(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.emphasisStop(),e.next=3,this._handlePlay(P.EMPHASIS);case 3:case"end":return e.stop()}}),m,this)}))),function(){return d.apply(this,arguments)})},{key:"admissionPlay",value:(f=Q(regeneratorRuntime.mark((function p(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.admissionStop(),e.next=3,this._handlePlay(P.ADMISSION);case 3:case"end":return e.stop()}}),p,this)}))),function(){return f.apply(this,arguments)})},{key:"contentPlay",value:(l=Q(regeneratorRuntime.mark((function h(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.contentStop(),e.next=3,this._handlePlay(P.CONTENT);case 3:case"end":return e.stop()}}),h,this)}))),function(){return l.apply(this,arguments)})},{key:"appearancePlay",value:(u=Q(regeneratorRuntime.mark((function v(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.appearanceStop(),e.next=3,this._handlePlay(P.APPEARANCE);case 3:case"end":return e.stop()}}),v,this)}))),function(){return u.apply(this,arguments)})},{key:"backgroundPlay",value:(c=Q(regeneratorRuntime.mark((function b(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.backgroundStop(),e.next=3,this._handlePlay(P.BACKGROUND);case 3:case"end":return e.stop()}}),b,this)}))),function(){return c.apply(this,arguments)})},{key:"hoverAppearancePlay",value:(s=Q(regeneratorRuntime.mark((function g(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.hoverAppearanceStop(),e.next=3,this._handlePlay(P.HOVER_APPEARANCE);case 3:case"end":return e.stop()}}),g,this)}))),function(){return s.apply(this,arguments)})},{key:"hoverDdmissionPlay",value:(a=Q(regeneratorRuntime.mark((function A(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.hoverDdmissionStop(),e.next=3,this._handlePlay(P.HOVER_DDMISSION);case 3:case"end":return e.stop()}}),A,this)}))),function(){return a.apply(this,arguments)})},{key:"emphasisStop",value:function(){this._handleStop(P.EMPHASIS)}},{key:"admissionStop",value:function(){this._handleStop(P.ADMISSION)}},{key:"contentStop",value:function(){this._handleStop(P.CONTENT)}},{key:"appearanceStop",value:function(){this._handleStop(P.APPEARANCE)}},{key:"backgroundStop",value:function(){this._handleStop(P.BACKGROUND)}},{key:"hoverAppearanceStop",value:function(){this._handleStop(P.HOVER_APPEARANCE)}},{key:"hoverDdmissionStop",value:function(){this._handleStop(P.HOVER_DDMISSION)}},{key:"moduleAnimationRun",value:(r=Q(regeneratorRuntime.mark((function E(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.admissionPlay();case 2:return e.next=4,this.emphasisPlay();case 4:case"end":return e.stop()}}),E,this)}))),function(){return r.apply(this,arguments)})},{key:"moduleAnimationStop",value:function(){this.admissionStop(),this.emphasisStop()}},{key:"_init",value:function(){try{var n=this.options.manage.id;this._setAnimation(),this._setAnimationElId(),this._proxyAnimationOptionsManageConfig(),this._proxyAnimationOptionsConfig(),j.set(n,this)}catch(a){var t,i,r,o=null===(t=e.Monitor)||void 0===t?void 0:t.startMonitor(10130);null===(i=e.Monitor)||void 0===i||i.logAlarmMonitor(10129),console.log(a),null===(r=e.JzFdpLog)||void 0===r||r.logFdpRequest("jz_jzggdh",{jz_content_terminal:e.contentTerminal,jz_free_text1:a.message,jz_domain:location.href||""}),o(!1,a)}}},{key:"_setAnimationElId",value:function(){var e=this.options.manage,n=e.id,t=e.idSelector,i=void 0===t?"":t,r=document.getElementById(i);r&&r.setAttribute("date-animationsId",n)}},{key:"_setContenAnimation",value:function(e,n,t){var i=this,r=this.animationVms;r[t]&&r[t].length||(r[t]=[]);var a=0,s=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?J(Object(t),!0).forEach((function(n){X(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e[t]);n.forEach((function(e,n){if(n>0&&t===P.CONTENT){var c=s.order,u=void 0===c?0:c,l=s.duration;s.delay+=0===u?.1:l}var f=Object(o.isArray)(e)?e:Array.from(e);if(Object(o.isArray)(e))f.forEach((function(e){if(s.el=e,r[t][a]instanceof $)return i._diffConfig(r[t][a],s),void a++;var n=new $(s);i.animation[t][a]={},r[t].push(n),a++}));else{if(s.el=e,r[t][a]instanceof $)return i._diffConfig(r[t][a],s),void a++;var d=new $(s);i.animation[t][a]={},r[t].push(d),a++}}))}},{key:"_setAnimation",value:function(){var e=this,n=this.options.animation,t=this.animationVms;Object.keys(n).forEach((function(i){var r=Object(o.deepExtendClone)(n[i]),a=r.el;if(r.type>0)if(Object(o.isArray)(a))e._setContenAnimation(n,a,i);else{if(t[i]instanceof $)return;var s=new $(r);t[i]=s}}))}},{key:"_AnimationArrayProxyHandler",value:function(e,n,t,i){if(e&&Object(o.isArray)(e)){var r=n;e.forEach((function(e,n){i===P.CONTENT?0===n?e.options[t]=r:t===w.i&&(r+=0===e.order?.1:e.duration,e.options[t]=r):e.options[t]=r}))}}},{key:"_proxyAnimationOptionsConfig",value:function(){var e=this,n=this;Object.keys(this.options.animation).forEach((function(t){Object.keys(e.options.animation[t]).forEach((function(i){Object.defineProperty(e.animation[t],i,{get:function(){var e=n.animationVms[t];return e&&!Object(o.isArray)(e)?e.options[i]:n.options.animation[t][i]},set:function(e){var r=n.animationVms[t];Object(o.isArray)(r)?n._AnimationArrayProxyHandler(r,e,i,t):r&&(r.options[i]=e),n.options.animation[t][i]=e}})}))}))}},{key:"_proxyAnimationOptionsManageConfig",value:function(){var e=this,n=this;Object.keys(this.options.manage).forEach((function(t){Object.defineProperty(e.manage,t,{get:function(){return n.options.manage[t]},set:function(e){n.options.manage[t]=e}})}))}},{key:"_diffConfig",value:function(e,n){var t=this,i=!1;if(Object(o.isPlainObject)(n))return Object.keys(n).forEach((function(r){n[r]!==e[r]&&n[r]!==undefined&&null!==n[r]&&(!i&&(i=!0),Object(o.isPlainObject)(n[r])&&!Object(o.isArray)(e[r])?t._diffConfig(e[r],n[r]):e[r]=n[r])})),i}},{key:"updateAnimation",value:function(n){var t=this,i=!1,r=e.getAnimationManageConfig(n);if(Object(o.isPlainObject)(r))return Object.keys(r).forEach((function(e){var n=t._diffConfig(t[e],r[e]);!i&&(i=n)})),i&&(this._setAnimation(),this._setAnimationElId()),this}},{key:"getAnimationType",value:function(e){return e>0&&e<=10?P.ADMISSION:e>=20&&e<=30?P.EMPHASIS:""}},{key:"isLoopRun",value:function(e){var n=this.animationVms[e],t=!1;if(!n)return t;var i=Object(o.isArray)(n)?n[0]||{}:n,r=i.animationCount,a=i.trigger,s=i.type,c=i.animationState;return t=(1===a||0==r)&&s>0&&(c===y||c===O),t}},{key:"animationManageDefaultData",get:function(){return[P,I]}}],i=[{key:"get",value:function(e){return j.get(e)}},{key:"has",value:function(e){return j.has(e)}},{key:"setAnimationElid",value:function(e){var n=e.manage,t=n.id,i=n.idSelector,r=void 0===i?"":i,o=document.getElementById(r);o&&o.setAttribute("date-animationsId",t)}}],t&&Z(n.prototype,t),i&&Z(n,i),e}();X(Ie,"ANIMATION_TYPE",P),X(Ie,"DEFAULT_ALL_ANIMATION_DATA",I),X(Ie,"getAnimationManageConfig",(function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n={},t=Object(o.deepExtendClone)(e),i=t.id,r=void 0===i?0:i,a=t.idSelector,s=void 0===a?"":a,c=(t.contentSelector,t.contentTerminal),u=void 0===c?"":c,l=t.manageMode,f=void 0!==l&&l,d=t.Monitor,m=void 0===d?{}:d,p=t.JzFdpLog,h=void 0===p?{}:p;return n.animation={},(r||u||s)&&(n.manage={},n.manage.id=r,n.manage.contentTerminal=u,n.manage.idSelector=s,n.manage.manageMode=f),(null==Ie||!Ie.Monitor)&&(Ie.Monitor=m),(null==Ie||!Ie.JzFdpLog)&&(Ie.JzFdpLog=h),(null==Ie||!Ie.contentTerminal)&&(Ie.contentTerminal=u),Object.keys(t).forEach((function(e){if(T.includes(e)){var i={},r=t[e];if(Object.keys(I[e]).forEach((function(n){var t=r[n]==undefined?I[e][n]:r[n];switch(n){case"t":i.name=Pe(t,r.r==undefined?I[e].r:r.r),i[w[n]]=t;break;case"d":case"s":case"o":case"i":case"tg":case"tf":case"c":case"fm":i[w[n]]=t;break;case"r":break;default:i[n]=t}})),e!==P.CONTENT){if(!i.el){var o=document.getElementById(s);i.el=o}}else i.el||(i.el=[]);n.animation[e]=i}})),n}));var Te=Ie,Ce=Te.getAnimationManageConfig,Me=function(){return j},Ne=function(e){return Te.get(e)},Le=function(e){return Te.has(e)},De=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.id;if(Le(n)){var t=Ne(n);return t.updateAnimation(Ce(e)),t}return Object(o.sealObject)(new Te(Ce(e)))},xe=function(e,n){var t=e,i=t.id,r=void 0===i?0:i;return 0===r||(n.id=r,n.idSelector="module".concat(r),T.forEach((function(e){switch(e){case P.EMPHASIS:n[e]=Object(o.digGet)(t,"commProp.al[1]",{});break;case P.ADMISSION:n[e]=Object(o.digGet)(t,"commProp.al[0]",{});break;case P.CONTENT:n[e]=Object(o.digGet)(t,"commProp.cal[0]",{});break;default:n[e]={}}}))),n};function Ve(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return Fe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fe(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==t["return"]||t["return"]()}finally{if(s)throw o}}}}function Fe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function Be(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ue,ze,He,Ge=new Map,qe=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=n,this.observerList={},this._takeRecords=[],this.init()}var n,t,i;return n=e,i=[{key:"use",value:function(n){var t={componentList:[n]};return Ge.has("interSectionObserver".concat(e.SECTION_OBSERVER_COUNT))?Ge.get("interSectionObserver".concat(e.SECTION_OBSERVER_COUNT))._setObserver(t):new e(t)}}],(t=[{key:"init",value:function(){try{e.SECTION_OBSERVER_COUNT++,Ge.set("interSectionObserver".concat(e.SECTION_OBSERVER_COUNT),this),this._setObserver()}catch(n){console.log(n)}}},{key:"_typeof",value:function(e){return Object(o.type)(e)}},{key:"_setObserver",value:function(e){var n=this,t=Object(o.deepExtendClone)({parentRoot:null,parentThreshold:.01,parentRootMargin:"100px 0px",parentDelay:0},e||this.options),i=t.componentList,r=t.parentRoot,a=t.parentThreshold,s=t.parentRootMargin,c=t.parentDelay,u=this;return i.forEach((function(e){var t=e.observerClass,i=e.runCallBack,o=e.finishCallBack,l=e.id,f=e.root,d=e.threshold,m=e.rootMargin,p=e.delay,h=e.isUnobserve;f=f||r,d=d||a,m=m||s,p=p||c;var v=new IntersectionObserver((function(e){u._checkObserver(u._getObserver(l)),n._checkParams(i,"runCallBack","function"),e.forEach((function(e){var n=i(e);if(!(n instanceof Promise))throw new Error("runCallBack params must be return Promise");n.then((function(n){"function"===u._typeof(o)&&o(n),h&&u._unobserve(u._getObserver(l),e.target)}))["catch"]((function(e){console.log(e)}))}))}),{root:f,threshold:d,rootMargin:m,delay:p});n._addObserverItem(v,l),n._observerElem(t,v)})),this}},{key:"_checkElement",value:function(e){return"object"===this._typeof(HTMLElement)?e instanceof HTMLElement:e&&"object"===this._typeof(e)&&1===e.nodeType&&"string"===this._typeof(e.nodeName)}},{key:"_checkElementOrString",value:function(e){if("string"!==this._typeof(e)&&"object"!==this._typeof(e))throw new Error("".concat(e," params must be string or object"))}},{key:"_addObserverItem",value:function(e,n){this._checkParams(e,"observer","object"),e.id=n,this.observerList["observer".concat(n)]=e}},{key:"_observerElem",value:function(e,n){if(this._checkObserver(n),this._checkElementOrString(e),!n._takeRecords&&(n._takeRecords=[]),"string"===this._typeof(e)){var t,i=Ve(document.querySelectorAll(e));try{for(i.s();!(t=i.n()).done;){var r=t.value;n.observe(r),n._takeRecords.push(r)}}catch(o){i.e(o)}finally{i.f()}}else this._checkElement(e)&&(n._takeRecords.push(e),n.observe(e))}},{key:"_unobserve",value:function(e,n){this._checkObserver(e),this._checkElement(n),this.isObserve(n,e.id)&&(e.unobserve(n),e._takeRecords.forEach((function(e,t,i){e==n&&i.splice(t,1)})))}},{key:"_checkParams",value:function(e,n,t){if(this._typeof(e)!==t)throw new Error("".concat(n," params must be ").concat(t))}},{key:"_checkObserver",value:function(e){if(!e.rootMargin)throw new Error("observer is not found")}},{key:"_getObserver",value:function(e){var n=this.observerList["observer".concat(e)];return this._checkObserver(n),n}},{key:"updateObserver",value:function(e,n){var t=this._getObserver(n);this._observerElem(e,t)}},{key:"destroyObserver",value:function(e){this._getObserver(e).disconnect(),this.observerList["observer".concat(e)]=null}},{key:"getObserverRecords",value:function(e){return this._getObserver(e)}},{key:"unobserve",value:function(e,n){var t=this._getObserver(n);this._unobserve(t,e)}},{key:"takeRecords",value:function(e){return this._getObserver(e)._takeRecords}},{key:"isObserve",value:function(e,n){this._checkParams(n,"id","number");var t=this._getObserver(n);if(this._checkElement(e)&&t._takeRecords.length)return t._takeRecords.some((function(n){return n==e}))}}])&&Be(n.prototype,t),i&&Be(n,i),e}();He=0,(ze="SECTION_OBSERVER_COUNT")in(Ue=qe)?Object.defineProperty(Ue,ze,{value:He,enumerable:!0,configurable:!0,writable:!0}):Ue[ze]=He;var We=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;return Ge.get("interSectionObserver".concat(e))||bizShared.InterSectionObserApi.initSectionObserver()},$e=function(e){return Object(o.digGet)(We(),"observerList.".concat(e))},Je=function(e){var n=e.el,t=e.id,i=e.observerName,r=n;"string"==typeof r&&(r=document.getElementById(n)),$e(i)&&We().updateObserver(r,t)},Ke=function(e){var n=e.el,t=e.id,i=e.observerName;"string"==typeof n&&(n=document.getElementById(n)),$e(i)&&We().unobserve(n,t)};function Qe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Ye(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Qe(Object(t),!0).forEach((function(n){Ze(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ze(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Xe={id:1,observerClass:".jz_module_animation",observerName:"observer1",isUnobserve:!1,rootMargin:"0px 100px",threshold:[.01]},en=function(e){Array.isArray(e)?e.forEach((function(e){Ke(Ye({el:e},Xe))})):Ke(Ye({el:e},Xe))},nn=function(e,n){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;return We(t).isObserve(e,n)},tn=function(e){Array.isArray(e)?e.forEach((function(e){Je(Ye({el:e},Xe))})):Je(Ye({el:e},Xe))};function rn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function on(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?rn(Object(t),!0).forEach((function(n){an(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function an(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var sn={componentList:[on(on({},Xe),{},{runCallBack:function(e){return new Promise((function(n){if(e&&e.target){var t=e.target,i=t.getAttribute("_flag"),r=parseInt(t.getAttribute("date-animationsId"))||0,a=Ne(r),s=null;if(!a)return;s||(s=setTimeout((function(){if(a){var c=a.isLoopRun(P.ADMISSION),u=a.isLoopRun(P.EMPHASIS),l=a.isLoopRun(P.APPEARANCE)&&!1,f=a.isLoopRun(P.CONTENT)&&!1,d=t.classList.contains("dragModule");!e.isIntersecting||!r||i&&"false"!=i||d?r&&!e.isIntersecting&&i&&!d&&(l&&a.appearancePlay(),c&&T.forEach((function(e){var n=(null==a?void 0:a.animation[e])||{},t=n.el,i=n.type;if(t&&0!=i)switch(e){case P.ADMISSION:case P.EMPHASIS:Object(o.isArray)(t)?t.forEach((function(e){null==e||e.classList.add("animateModule"),(null==e?void 0:e.classList.contains("animateModule"))&&(null==e||e.setAttribute("_flag",!1))})):(null==t||t.classList.add("animateModule"),(null==t?void 0:t.classList.contains("animateModule"))&&(null==t||t.setAttribute("_flag",!1)))}})),clearTimeout(s),s=null,n({val:e,isContentLoopRun:f,isEmphasisLoopRun:u})):((c||u)&&a.moduleAnimationRun(),f&&a.contentPlay(),clearTimeout(s),s=null,n({val:e,isContentLoopRun:f,isEmphasisLoopRun:u}))}}),300))}}))},finishCallBack:function(e){var n=e.val,t=e.isContentLoopRun,i=e.isEmphasisLoopRun;return new Promise((function(e){var r=n&&n.target;if(r){var o=!0,a=r.getAttribute("_IntersectingVal");a?n.boundingClientRect.x!=JSON.parse(a).x&&(o=!1):n.isIntersecting&&r.setAttribute("_IntersectingVal",JSON.stringify(n.boundingClientRect)),o&&r.setAttribute("_flag",n.isIntersecting),n.isIntersecting&&!i&&!t&&en(r[0]),e()}}))}})]},cn=Object(o.memorize)((function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:sn;return new qe(e)})),un=[{name:"ImageViewer",component:function(){return t.e(0).then(t.bind(null,4))}}],ln={install:function(e){[].forEach((function(n){e.component(n.name,n)})),un.forEach((function(n){e.component(n.name,n.component)}))}};"undefined"!=typeof s.a&&s.a.use(ln)}])}));